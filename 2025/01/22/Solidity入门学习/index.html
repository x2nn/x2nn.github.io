<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Hello Web3Solidityç®€ä»‹Solidityæ˜¯ä¸€ç§ç”¨äºç¼–å†™ä»¥å¤ªåŠè™šæ‹Ÿæœº(EVM)æ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ã€‚ Hello Web3ç®€å•çš„ç¨‹åºHelloWeb3.solå¦‚ä¸‹ï¼š 12345&#x2F;&#x2F; SPDX-License-Identifier: MITpragma solidity ^0.8.21;contract HelloWeb3&#123;    string public _string &#x3D;">
<meta property="og:type" content="article">
<meta property="og:title" content="Solidityå…¥é—¨å­¦ä¹ ">
<meta property="og:url" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="X2n.">
<meta property="og:description" content="Hello Web3Solidityç®€ä»‹Solidityæ˜¯ä¸€ç§ç”¨äºç¼–å†™ä»¥å¤ªåŠè™šæ‹Ÿæœº(EVM)æ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ã€‚ Hello Web3ç®€å•çš„ç¨‹åºHelloWeb3.solå¦‚ä¸‹ï¼š 12345&#x2F;&#x2F; SPDX-License-Identifier: MITpragma solidity ^0.8.21;contract HelloWeb3&#123;    string public _string &#x3D;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122224953662.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122234241902.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122234959766.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123030906176.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123031819323.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123031506521.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123032230889.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123033818196.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123034641393.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123234741062.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124163637660.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124165024783.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124230136670.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124232933314.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124233108775.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124234418473.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125004147867.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125004238778.png">
<meta property="og:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125011902342.png">
<meta property="article:published_time" content="2025-01-22T05:29:59.000Z">
<meta property="article:modified_time" content="2025-01-24T18:09:51.061Z">
<meta property="article:author" content="ğŸ’—">
<meta property="article:tag" content="ä»¥å¤ªåŠ">
<meta property="article:tag" content="solidity">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122224953662.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Solidityå…¥é—¨å­¦ä¹ </title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="X2n." type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2025/01/13/mac%E6%90%AD%E5%BB%BAhardhat%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&text=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&is_video=false&description=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Solidityå…¥é—¨å­¦ä¹ &body=Check out this article: https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&name=Solidityå…¥é—¨å­¦ä¹ &description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&t=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hello-Web3"><span class="toc-number">1.</span> <span class="toc-text">Hello Web3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Solidityç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-Web3-1"><span class="toc-number">1.2.</span> <span class="toc-text">Hello Web3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">å€¼ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">Solidityä¸­çš„å˜é‡ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">åœ°å€ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E9%95%BF%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.</span> <span class="toc-text">å®šé•¿å­—èŠ‚æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BEenum"><span class="toc-number">2.4.</span> <span class="toc-text">æšä¸¾enum</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">å‡½æ•°å’Œå‡½æ•°è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.</span> <span class="toc-text">å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%A3%E7%A0%81%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.1.1.</span> <span class="toc-text">å‡½æ•°çš„ä»£ç å½¢å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%B0%E5%BA%95%E4%BB%80%E4%B9%88%E6%98%AFPure%E5%92%8CView%EF%BC%9F"><span class="toc-number">3.1.2.</span> <span class="toc-text">åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"><span class="toc-number">3.1.3.</span> <span class="toc-text">ä»£ç æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#pure%E5%92%8Cview"><span class="toc-number">3.1.3.1.</span> <span class="toc-text">pureå’Œview</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#internal%E5%92%8Cexternal%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">3.1.3.2.</span> <span class="toc-text">internalå’Œexternalçš„å¯¹æ¯”</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#payable%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.3.3.</span> <span class="toc-text">payableçš„ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BE%93%E5%87%BA"><span class="toc-number">3.2.</span> <span class="toc-text">å‡½æ•°è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%9Areturn%E5%92%8Creturns"><span class="toc-number">3.2.1.</span> <span class="toc-text">è¿”å›å€¼ï¼šreturnå’Œreturns</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%BC%8F%E8%BF%94%E5%9B%9E"><span class="toc-number">3.2.2.</span> <span class="toc-text">å‘½åå¼è¿”å›</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%BC%8F%E5%A4%8D%E5%88%B6"><span class="toc-number">3.2.3.</span> <span class="toc-text">è§£æ„å¼å¤åˆ¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.</span> <span class="toc-text">å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">Solidityä¸­çš„å¼•ç”¨ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BD%8D%E7%BD%AE"><span class="toc-number">4.2.</span> <span class="toc-text">æ•°æ®ä½ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BD%8D%E7%BD%AE%E5%92%8C%E8%B5%8B%E5%80%BC%E8%A7%84%E5%88%99"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.3.</span> <span class="toc-text">å˜é‡çš„ä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%88state-variable%EF%BC%89"><span class="toc-number">4.3.1.</span> <span class="toc-text">çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%EF%BC%88local-variable%EF%BC%89"><span class="toc-number">4.3.2.</span> <span class="toc-text">å±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%88global-variable%EF%BC%89"><span class="toc-number">4.3.3.</span> <span class="toc-text">å…¨å±€å˜é‡ï¼ˆglobal variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F-%E4%BB%A5%E5%A4%AA%E5%8D%95%E4%BD%8D%E4%B8%8E%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D"><span class="toc-number">4.3.4.</span> <span class="toc-text">å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">å¼•ç”¨ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84array"><span class="toc-number">5.1.1.</span> <span class="toc-text">æ•°ç»„array</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">åˆ›å»ºæ•°ç»„çš„è§„åˆ™</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%88%90%E5%91%98"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">æ•°ç»„æˆå‘˜</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93struct"><span class="toc-number">5.1.2.</span> <span class="toc-text">ç»“æ„ä½“struct</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.2.</span> <span class="toc-text">æ˜ å°„ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84Mapping"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ˜ å°„Mapping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">5.2.2.</span> <span class="toc-text">æ˜ å°„çš„è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.3.</span> <span class="toc-text">æ˜ å°„çš„åŸç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">å˜é‡åˆå§‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%88%9D%E5%A7%8B%E5%80%BC"><span class="toc-number">6.1.</span> <span class="toc-text">å€¼ç±»å‹åˆå§‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%88%9D%E5%A7%8B%E5%80%BC"><span class="toc-number">6.2.</span> <span class="toc-text">å¼•ç”¨ç±»å‹åˆå§‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">6.3.</span> <span class="toc-text">deleteæ“ä½œç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">å¸¸æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#constant%E5%92%8Cimmutable"><span class="toc-number">7.1.</span> <span class="toc-text">constantå’Œimmutable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#constant"><span class="toc-number">7.1.1.</span> <span class="toc-text">constant</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#immutable"><span class="toc-number">7.1.2.</span> <span class="toc-text">immutable</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">8.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81-1"><span class="toc-number">8.1.</span> <span class="toc-text">æ§åˆ¶æµ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="toc-number">9.</span> <span class="toc-text">æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">9.1.</span> <span class="toc-text">æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="toc-number">9.2.</span> <span class="toc-text">ä¿®é¥°å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">10.</span> <span class="toc-text">äº‹ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">11.</span> <span class="toc-text">ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%90%88%E7%BA%A6%E5%92%8C%E6%8E%A5%E5%8F%A3"><span class="toc-number">12.</span> <span class="toc-text">æŠ½è±¡åˆçº¦å’Œæ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">13.</span> <span class="toc-text">å¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">14.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Solidityå…¥é—¨å­¦ä¹ 
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">ğŸ’—</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-01-22T05:29:59.000Z" class="dt-published" itemprop="datePublished">2025-01-22</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Web3/">Web3</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/solidity/" rel="tag">solidity</a>, <a class="p-category" href="/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/" rel="tag">ä»¥å¤ªåŠ</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="Hello-Web3"><a href="#Hello-Web3" class="headerlink" title="Hello Web3"></a>Hello Web3</h2><h3 id="Solidityç®€ä»‹"><a href="#Solidityç®€ä»‹" class="headerlink" title="Solidityç®€ä»‹"></a>Solidityç®€ä»‹</h3><p><code>Solidity</code>æ˜¯ä¸€ç§ç”¨äºç¼–å†™ä»¥å¤ªåŠè™šæ‹Ÿæœº(<code>EVM</code>)æ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<h3 id="Hello-Web3-1"><a href="#Hello-Web3-1" class="headerlink" title="Hello Web3"></a>Hello Web3</h3><p>ç®€å•çš„ç¨‹åº<code>HelloWeb3.sol</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract HelloWeb3&#123;</span><br><span class="line">    string public _string = &quot;Hello Web3!&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åˆ°<a target="_blank" rel="noopener" href="https://remix.ethereum.org/">https://remix.ethereum.org/</a></p>
<p>è¿›è¡Œç¼–è¯‘å’Œéƒ¨ç½²ï¼Œç‚¹å‡»<code>_string</code>è¾“å‡ºã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122224953662.png" alt="image-20250122224953662"></p>
<p>ä»£ç ä¸­çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.21;</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºæºæ–‡ä»¶å°†ä¸å…è®¸å°äº 0.8.21 ç‰ˆæœ¬æˆ–å¤§äºç­‰äº 0.9.0 çš„ç¼–è¯‘å™¨ç¼–è¯‘ï¼ˆç¬¬äºŒä¸ªæ¡ä»¶ç”± <code>^</code> æä¾›ï¼‰ã€‚</p>
<p>å…¶ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string public _string = &quot;Hello Web3!&quot;;</span><br></pre></td></tr></table></figure>

<p><code>public</code> ä¿®é¥°ç¬¦è¡¨ç¤º <code>_string</code> å˜é‡æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¯»å–è¯¥å˜é‡çš„å€¼ã€‚</p>
<p>Solidity ä¼šè‡ªåŠ¨ä¸º <code>public</code> ä¿®é¥°çš„çŠ¶æ€å˜é‡ç”Ÿæˆä¸€ä¸ª getter å‡½æ•°ï¼Œå…è®¸å¤–éƒ¨ä»£ç ï¼ˆå¦‚å…¶ä»–åˆçº¦æˆ–å¤–éƒ¨ç”¨æˆ·ï¼‰é€šè¿‡åˆçº¦çš„ ABIï¼ˆåº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼‰è®¿é—®è¿™ä¸ªå˜é‡çš„å€¼ã€‚</p>
<h2 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h2><h3 id="Solidityä¸­çš„å˜é‡ç±»å‹"><a href="#Solidityä¸­çš„å˜é‡ç±»å‹" class="headerlink" title="Solidityä¸­çš„å˜é‡ç±»å‹"></a>Solidityä¸­çš„å˜é‡ç±»å‹</h3><ol>
<li>**å€¼ç±»å‹(Value Type)**ï¼šåŒ…æ‹¬å¸ƒå°”å‹ã€æ•´æ•°å‹ç­‰ç­‰ï¼Œè¿™ç±»å˜é‡èµ‹å€¼æ—¶å€™ç›´æ¥ä¼ é€’æ•°å€¼ã€‚</li>
<li>**å¼•ç”¨ç±»å‹(Reference Type)**ï¼šåŒ…æ‹¬æ•°ç»„å’Œç»“æ„ä½“ï¼Œè¿™ç±»å˜é‡å ç©ºé—´å¤§ï¼Œèµ‹å€¼æ—¶å€™ç›´æ¥ä¼ é€’åœ°å€ï¼ˆç±»ä¼¼æŒ‡é’ˆï¼‰ã€‚</li>
<li>**æ˜ å°„ç±»å‹(Mapping Type)**ï¼šSolidityä¸­å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸ºå“ˆå¸Œè¡¨ã€‚</li>
</ol>
<p>ç¼–å†™ä¸€ä¸ªç®€å•çš„ç¨‹åº<code>ValueTypes.sol</code>ï¼Œä»‹ç»ä¸€ä¸‹å„ç§å˜é‡ç±»å‹ï¼Œç¨‹åºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.4;</span><br><span class="line">contract ValueTypes&#123;</span><br><span class="line">    // å¸ƒå°”å€¼</span><br><span class="line">    bool public _bool = true;</span><br><span class="line">    // å¸ƒå°”è¿ç®—</span><br><span class="line">    bool public _bool1 = !_bool; //å–é</span><br><span class="line">    bool public _bool2 = _bool &amp;&amp; _bool1; //ä¸</span><br><span class="line">    bool public _bool3 = _bool || _bool2; //æˆ–</span><br><span class="line">    bool public _bool4 = _bool == _bool; //ç›¸ç­‰</span><br><span class="line">    bool public _bool5 = _bool != _bool1; //ä¸æƒ³ç­‰</span><br><span class="line">    // æ•´æ•°</span><br><span class="line">    int public _int = -1;</span><br><span class="line">    uint public _uint = 1;</span><br><span class="line">    uint256 public _number = 20250122;</span><br><span class="line">    // æ•´æ•°è¿ç®—</span><br><span class="line">    uint256 public _number1 = _number + 1; // +ï¼Œ-ï¼Œ*ï¼Œ/</span><br><span class="line">    uint256 public _number2 = 2**2; // æŒ‡æ•°</span><br><span class="line">    uint256 public _number3 = 7 % 2; // å–ä½™æ•°</span><br><span class="line">    bool public _numberbool = _number2 &gt; _number3; // æ¯”å¤§å°</span><br><span class="line">    // åœ°å€</span><br><span class="line">    address public _address = 0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2;</span><br><span class="line">    address payable public _address1 = payable(_address); // payable addressï¼Œå¯ä»¥è½¬è´¦ã€æŸ¥ä½™é¢</span><br><span class="line">    // åœ°å€ç±»å‹çš„æˆå‘˜</span><br><span class="line">    uint256 public balance = _address1.balance; // balance of address</span><br><span class="line">    // å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„</span><br><span class="line">    bytes32 public _byte32 = &quot;MiniSolidity&quot;; </span><br><span class="line">    bytes1 public _byte = _byte32[0];</span><br><span class="line"></span><br><span class="line">    // ç”¨enumå°†uint 0ï¼Œ 1ï¼Œ 2è¡¨ç¤ºä¸ºBuy, Hold, Sell</span><br><span class="line">    enum ActionSet &#123; Buy, Hold, Sell &#125;</span><br><span class="line">    // åˆ›å»ºenumå˜é‡ action</span><br><span class="line">    //ActionSet action = ActionSet.Buy;</span><br><span class="line">    ActionSet action = ActionSet.Buy;</span><br><span class="line">    // enumå¯ä»¥å’Œuintæ˜¾å¼çš„è½¬æ¢</span><br><span class="line">    function enumToUint() external view returns(uint)&#123;</span><br><span class="line">        return uint(action);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åœ°å€ç±»å‹"><a href="#åœ°å€ç±»å‹" class="headerlink" title="åœ°å€ç±»å‹"></a>åœ°å€ç±»å‹</h3><p>åœ°å€ç±»å‹(address)æœ‰ä¸¤ç±»ï¼š</p>
<ul>
<li>æ™®é€šåœ°å€ï¼ˆaddressï¼‰: å­˜å‚¨ä¸€ä¸ª 20 å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚</li>
<li>payable address: æ¯”æ™®é€šåœ°å€å¤šäº† <code>transfer</code> å’Œ <code>send</code> ä¸¤ä¸ªæˆå‘˜æ–¹æ³•ï¼Œç”¨äºæ¥æ”¶è½¬è´¦ã€‚</li>
</ul>
<h3 id="å®šé•¿å­—èŠ‚æ•°ç»„"><a href="#å®šé•¿å­—èŠ‚æ•°ç»„" class="headerlink" title="å®šé•¿å­—èŠ‚æ•°ç»„"></a>å®šé•¿å­—èŠ‚æ•°ç»„</h3><p>å­—èŠ‚æ•°ç»„åˆ†ä¸ºå®šé•¿å’Œä¸å®šé•¿ä¸¤ç§ï¼š</p>
<ul>
<li>å®šé•¿å­—èŠ‚æ•°ç»„: å±äºå€¼ç±»å‹ï¼Œæ•°ç»„é•¿åº¦åœ¨å£°æ˜ä¹‹åä¸èƒ½æ”¹å˜ã€‚æ ¹æ®å­—èŠ‚æ•°ç»„çš„é•¿åº¦åˆ†ä¸º <code>bytes1</code>, <code>bytes8</code>, <code>bytes32</code> ç­‰ç±»å‹ã€‚å®šé•¿å­—èŠ‚æ•°ç»„æœ€å¤šå­˜å‚¨ 32 bytes æ•°æ®ï¼Œå³<code>bytes32</code>ã€‚</li>
<li>ä¸å®šé•¿å­—èŠ‚æ•°ç»„: å±äºå¼•ç”¨ç±»å‹ï¼Œæ•°ç»„é•¿åº¦åœ¨å£°æ˜ä¹‹åå¯ä»¥æ”¹å˜ï¼ŒåŒ…æ‹¬ <code>bytes</code> ç­‰ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„</span><br><span class="line">bytes32 public _byte32 = &quot;MiniSolidity&quot;; </span><br><span class="line">bytes1 public _byte = _byte32[0]; </span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>MiniSolidity</code> å˜é‡ä»¥å­—èŠ‚çš„æ–¹å¼å­˜å‚¨è¿›å˜é‡ <code>_byte32</code>ã€‚å¦‚æœæŠŠå®ƒè½¬æ¢æˆ <code>16 è¿›åˆ¶</code>ï¼Œå°±æ˜¯ï¼š<code>0x4d696e69536f6c69646974790000000000000000000000000000000000000000</code></p>
<p><code>_byte</code> å˜é‡çš„å€¼ä¸º <code>_byte32</code> çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œå³ <code>0x4d</code>ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122234241902.png" alt="image-20250122234241902"></p>
<h3 id="æšä¸¾enum"><a href="#æšä¸¾enum" class="headerlink" title="æšä¸¾enum"></a>æšä¸¾enum</h3><p>æšä¸¾ï¼ˆ<code>enum</code>ï¼‰æ˜¯ Solidity ä¸­ç”¨æˆ·å®šä¹‰çš„æ•°æ®ç±»å‹ã€‚å®ƒä¸»è¦ç”¨äºä¸º <code>uint</code> åˆ†é…åç§°ï¼Œä½¿ç¨‹åºæ˜“äºé˜…è¯»å’Œç»´æŠ¤ã€‚å®ƒä¸ <code>C è¯­è¨€</code> ä¸­çš„ <code>enum</code> ç±»ä¼¼ï¼Œä½¿ç”¨åç§°æ¥ä»£æ›¿ä» <code>0</code> å¼€å§‹çš„ <code>uint</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ç”¨enumå°†uint 0ï¼Œ 1ï¼Œ 2è¡¨ç¤ºä¸ºBuy, Hold, Sell</span><br><span class="line">enum ActionSet &#123; Buy, Hold, Sell &#125;</span><br><span class="line">// åˆ›å»ºenumå˜é‡ action</span><br><span class="line">ActionSet action = ActionSet.Buy;</span><br></pre></td></tr></table></figure>

<p>æšä¸¾å¯ä»¥æ˜¾å¼åœ°å’Œ <code>uint</code> ç›¸äº’è½¬æ¢ï¼Œå¹¶ä¼šæ£€æŸ¥è½¬æ¢çš„æ­£æ•´æ•°æ˜¯å¦åœ¨æšä¸¾çš„é•¿åº¦å†…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// enumå¯ä»¥å’Œuintæ˜¾å¼çš„è½¬æ¢</span><br><span class="line">function enumToUint() external view returns(uint)&#123;</span><br><span class="line">    return uint(action);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>enum</code> æ˜¯ä¸€ä¸ªæ¯”è¾ƒå†·é—¨çš„å˜é‡ï¼Œå‡ ä¹æ²¡ä»€ä¹ˆäººç”¨ã€‚</p>
<p><code>enum</code>å’Œ<code>uint</code>ç›¸äº’è½¬æ¢ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250122234959766.png" alt="image-20250122234959766"></p>
<h2 id="å‡½æ•°å’Œå‡½æ•°è¾“å‡º"><a href="#å‡½æ•°å’Œå‡½æ•°è¾“å‡º" class="headerlink" title="å‡½æ•°å’Œå‡½æ•°è¾“å‡º"></a>å‡½æ•°å’Œå‡½æ•°è¾“å‡º</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="å‡½æ•°çš„ä»£ç å½¢å¼"><a href="#å‡½æ•°çš„ä»£ç å½¢å¼" class="headerlink" title="å‡½æ•°çš„ä»£ç å½¢å¼"></a>å‡½æ•°çš„ä»£ç å½¢å¼</h4><p>Solidity ä¸­å‡½æ•°çš„å½¢å¼(æ–¹æ‹¬å·ä¸­çš„æ˜¯å¯å†™å¯ä¸ å†™çš„å…³é”®å­—)ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function &lt;function name&gt;(&lt;parameter types&gt;) &#123;internal|external|public|private&#125; [pure|view|payable] [returns (&lt;return types&gt;)]</span><br></pre></td></tr></table></figure>

<ol>
<li><p><code>function</code>ï¼šå£°æ˜å‡½æ•°æ—¶çš„å›ºå®šç”¨æ³•ã€‚è¦ç¼–å†™å‡½æ•°ï¼Œå°±éœ€è¦ä»¥ <code>function</code> å…³é”®å­—å¼€å¤´ã€‚</p>
</li>
<li><p><code>&lt;function name&gt;</code>ï¼šå‡½æ•°åã€‚</p>
</li>
<li><p><code>(&lt;parameter types&gt;)</code>ï¼šåœ†æ‹¬å·å†…å†™å…¥å‡½æ•°çš„å‚æ•°ï¼Œå³è¾“å…¥åˆ°å‡½æ•°çš„å˜é‡ç±»å‹å’Œåç§°ã€‚</p>
</li>
<li><p><code>&#123;internal|external|public|private&#125;</code>ï¼šå‡½æ•°å¯è§æ€§è¯´æ˜ç¬¦ï¼Œå…±æœ‰4ç§ã€‚</p>
<ul>
<li><p><code>public</code>ï¼šå†…éƒ¨å’Œå¤–éƒ¨å‡å¯è§ã€‚</p>
</li>
<li><p><code>private</code>ï¼šåªèƒ½ä»æœ¬åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦ä¹Ÿä¸èƒ½ä½¿ç”¨ã€‚</p>
</li>
<li><p><code>external</code>ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ <code>this.f()</code> æ¥è°ƒç”¨ï¼Œ<code>f</code>æ˜¯å‡½æ•°åï¼‰ã€‚</p>
</li>
<li><p><code>internal</code>: åªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ã€‚</p>
</li>
</ul>
<p><strong>æ³¨æ„1âš ï¸</strong>ï¼šåˆçº¦ä¸­å®šä¹‰çš„å‡½æ•°éœ€è¦æ˜ç¡®æŒ‡å®šå¯è§æ€§ï¼Œå®ƒä»¬æ²¡æœ‰é»˜è®¤å€¼ã€‚</p>
<p><strong>æ³¨æ„2</strong>âš ï¸ï¼š<code>public|private|internal</code> ä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ã€‚<code>public</code>å˜é‡ä¼šè‡ªåŠ¨ç”ŸæˆåŒåçš„<code>getter</code>å‡½æ•°ï¼Œç”¨äºæŸ¥è¯¢æ•°å€¼ã€‚æœªæ ‡æ˜å¯è§æ€§ç±»å‹çš„çŠ¶æ€å˜é‡ï¼Œé»˜è®¤ä¸º<code>internal</code>ã€‚</p>
</li>
<li><p><code>[pure|view|payable]</code>ï¼šå†³å®šå‡½æ•°æƒé™&#x2F;åŠŸèƒ½çš„å…³é”®å­—ã€‚<code>payable</code>ï¼ˆå¯æ”¯ä»˜çš„ï¼‰å¾ˆå¥½ç†è§£ï¼Œå¸¦ç€å®ƒçš„å‡½æ•°ï¼Œè¿è¡Œçš„æ—¶å€™å¯ä»¥ç»™åˆçº¦è½¬å…¥ ETHã€‚</p>
</li>
<li><p><code>[returns (&lt;return types&gt;)]</code>ï¼šå‡½æ•°è¿”å›çš„å˜é‡ç±»å‹å’Œåç§°ã€‚</p>
</li>
</ol>
<h4 id="åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ"><a href="#åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ" class="headerlink" title="åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ"></a>åˆ°åº•ä»€ä¹ˆæ˜¯<code>Pure</code>å’Œ<code>View</code>ï¼Ÿ</h4><p><code>solidity</code> å¼•å…¥è¿™ä¸¤ä¸ªå…³é”®å­—ä¸»è¦æ˜¯å› ä¸º ä»¥å¤ªåŠäº¤æ˜“éœ€è¦æ”¯ä»˜gas feeã€‚åˆçº¦çš„çŠ¶æ€å˜é‡å­˜å‚¨åœ¨é“¾ä¸Šï¼Œgas fee å¾ˆè´µï¼Œå¦‚æœè®¡ç®—ä¸æ”¹å˜é“¾ä¸ŠçŠ¶æ€ï¼Œå°±å¯ä»¥ä¸ç”¨ä»˜ <code>gas</code>ã€‚åŒ…å« <code>pure</code> å’Œ <code>view</code> å…³é”®å­—çš„å‡½æ•°æ˜¯ä¸æ”¹å†™é“¾ä¸ŠçŠ¶æ€çš„ï¼Œå› æ­¤ç”¨æˆ·ç›´æ¥è°ƒç”¨å®ƒä»¬æ˜¯ä¸éœ€è¦ä»˜ gas çš„ï¼ˆæ³¨æ„âš ï¸ï¼Œåˆçº¦ä¸­é <code>pure</code>&#x2F;<code>view</code> å‡½æ•°è°ƒç”¨ <code>pure</code>&#x2F;<code>view</code> å‡½æ•°æ—¶éœ€è¦ä»˜gasï¼‰ã€‚</p>
<p>åœ¨ä»¥å¤ªåŠä¸­ï¼Œä»¥ä¸‹è¯­å¥è¢«è§†ä¸ºä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼š</p>
<ol>
<li>å†™å…¥çŠ¶æ€å˜é‡ã€‚</li>
<li>é‡Šæ”¾äº‹ä»¶ã€‚</li>
<li>åˆ›å»ºå…¶ä»–åˆçº¦ã€‚</li>
<li>ä½¿ç”¨ <code>selfdestruct</code>.</li>
<li>é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ã€‚</li>
<li>è°ƒç”¨ä»»ä½•æœªæ ‡è®° <code>view</code> æˆ– <code>pure</code> çš„å‡½æ•°ã€‚</li>
<li>ä½¿ç”¨ä½çº§è°ƒç”¨ï¼ˆlow-level callsï¼‰ã€‚</li>
<li>ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚</li>
</ol>
<ul>
<li><code>pure</code>å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½å†™å…¥é“¾ä¸Šçš„çŠ¶æ€å˜é‡ã€‚</li>
<li><code>view</code>å‡½æ•°èƒ½è¯»å–ä½†ä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚</li>
<li>é<code>pure</code>æˆ–<code>view</code>çš„å‡½æ•°æ—¢å¯ä»¥è¯»å–ä¹Ÿå¯ä»¥å†™å…¥çŠ¶æ€å˜é‡ã€‚</li>
</ul>
<h4 id="ä»£ç æµ‹è¯•"><a href="#ä»£ç æµ‹è¯•" class="headerlink" title="ä»£ç æµ‹è¯•"></a>ä»£ç æµ‹è¯•</h4><p>æµ‹è¯•ä»£ç <code>FunctionTypes.sol</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract FunctionTypes&#123;</span><br><span class="line">    uint256 public number = 5;</span><br><span class="line">    // é»˜è®¤function</span><br><span class="line">    function add() external&#123;</span><br><span class="line">        number = number + 1;</span><br><span class="line">    &#125;</span><br><span class="line">    // éªŒè¯pureå’Œview</span><br><span class="line">    // function addtest() external view&#123;</span><br><span class="line">    //     number = number + 1;</span><br><span class="line">    // &#125;</span><br><span class="line">    </span><br><span class="line">    // pure</span><br><span class="line">    function addPure(uint256 _number) external pure returns(uint256 new_number)&#123;</span><br><span class="line">        new_number = _number + 1;</span><br><span class="line">    &#125;</span><br><span class="line">    // view</span><br><span class="line">    function addView() external view returns(uint256 new_number) &#123;</span><br><span class="line">        new_number = number + 1;</span><br><span class="line">    &#125;</span><br><span class="line">    // internal: å†…éƒ¨å‡½æ•°</span><br><span class="line">    function minus() internal &#123;</span><br><span class="line">        number = number - 1;</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°</span><br><span class="line">    function minusCall() external &#123;</span><br><span class="line">        minus();</span><br><span class="line">    &#125;</span><br><span class="line">    // payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°</span><br><span class="line">    function minusPayable() external payable returns(uint256 balance) &#123;</span><br><span class="line">        minus();    </span><br><span class="line">        balance = address(this).balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="pureå’Œview"><a href="#pureå’Œview" class="headerlink" title="pureå’Œview"></a>pureå’Œview</h5><p>åœ¨ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ª<code>add()</code>å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä¼šä½¿å¾—<code>number</code>åŠ 1ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// é»˜è®¤function</span><br><span class="line">function add() external&#123;</span><br><span class="line">    number = number + 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>add()</code> å‡½æ•°è¢«æ ‡è®°ä¸º <code>pure</code>ï¼Œæ¯”å¦‚ <code>function add() external pure</code>ï¼Œå°±ä¼šæŠ¥é”™ã€‚å› ä¸º <code>pure</code> æ˜¯ä¸èƒ½è¯»å–åˆçº¦é‡Œçš„çŠ¶æ€å˜é‡çš„ï¼Œæ›´ä¸èƒ½æ”¹å†™ã€‚</p>
<p>ä½¿ç”¨åˆ°äº†<code>pure</code>å‡ºç°çš„æŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123030906176.png" alt="image-20250123030906176"></p>
<p>å¦‚æœä½¿ç”¨<code>view</code>ï¼Œåˆ™ä»£ç ä¼šæŠ¥é”™ï¼Œè¯å®äº†<code>view</code>æ˜¯åªèƒ½è¯»å–è€Œä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123031819323.png" alt="image-20250123031819323"></p>
<p>é‚£ <code>pure</code> å‡½æ•°èƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•° <code>_number</code>ï¼Œç„¶åè®©ä»–è¿”å› <code>_number + 1</code>ï¼Œè¿™ä¸ªæ“ä½œä¸ä¼šè¯»å–æˆ–å†™å…¥çŠ¶æ€å˜é‡ã€‚</p>
<p>å¦‚ä»£ç ä¸­çš„<code>addPure</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// pure</span><br><span class="line">function addPure(uint256 _number) external pure returns(uint256 new_number)&#123;</span><br><span class="line">    new_number = _number + 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123031506521.png" alt="image-20250123031506521"></p>
<p><code>view</code>è¯»å–çŠ¶æ€å˜é‡ï¼Œç„¶åå¯¹è¯»å–çš„ç»“æœè¿›è¡ŒåŠ 1ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// view</span><br><span class="line">function addView() external view returns(uint256 new_number) &#123;</span><br><span class="line">    new_number = number + 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123032230889.png" alt="image-20250123032230889"></p>
<h5 id="internalå’Œexternalçš„å¯¹æ¯”"><a href="#internalå’Œexternalçš„å¯¹æ¯”" class="headerlink" title="internalå’Œexternalçš„å¯¹æ¯”"></a>internalå’Œexternalçš„å¯¹æ¯”</h5><p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// internal: å†…éƒ¨å‡½æ•°</span><br><span class="line">function minus() internal &#123;</span><br><span class="line">    number = number - 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°</span><br><span class="line">function minusCall() external &#123;</span><br><span class="line">    minus();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰äº†ä¸€ä¸ª <code>internal</code> çš„ <code>minus()</code> å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä½¿å¾— <code>number</code> å˜é‡å‡å°‘ 1ã€‚ç”±äº <code>internal</code> å‡½æ•°åªèƒ½ç”±åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œæˆ‘ä»¬å¿…é¡»å†å®šä¹‰ä¸€ä¸ª <code>external</code> çš„ <code>minusCall()</code> å‡½æ•°ï¼Œå¤–éƒ¨é€šè¿‡å®ƒé—´æ¥è°ƒç”¨å†…éƒ¨çš„ <code>minus()</code> å‡½æ•°ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123033818196.png" alt="image-20250123033818196"></p>
<h5 id="payableçš„ä½¿ç”¨"><a href="#payableçš„ä½¿ç”¨" class="headerlink" title="payableçš„ä½¿ç”¨"></a>payableçš„ä½¿ç”¨</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°</span><br><span class="line">function minusPayable() external payable returns(uint256 balance) &#123;</span><br><span class="line">    minus();    </span><br><span class="line">    balance = address(this).balance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ä¸€ä¸ª <code>external payable</code> çš„ <code>minusPayable()</code> å‡½æ•°ï¼Œé—´æ¥çš„è°ƒç”¨ <code>minus()</code>ï¼Œå¹¶ä¸”è¿”å›åˆçº¦é‡Œçš„ ETH ä½™é¢ï¼ˆ<code>this</code> å…³é”®å­—å¯ä»¥è®©æˆ‘ä»¬å¼•ç”¨åˆçº¦åœ°å€ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ <code>minusPayable()</code> æ—¶å¾€åˆçº¦é‡Œè½¬å…¥1ä¸ª ETHã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123034641393.png" alt="image-20250123034641393"></p>
<h3 id="å‡½æ•°è¾“å‡º"><a href="#å‡½æ•°è¾“å‡º" class="headerlink" title="å‡½æ•°è¾“å‡º"></a>å‡½æ•°è¾“å‡º</h3><p>æµ‹è¯•ä»£ç <code>Return.sol</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.4;</span><br><span class="line">contract Return&#123;</span><br><span class="line">    // è¿”å›å¤šä¸ªå˜é‡</span><br><span class="line">    function returnMultiple() public pure returns(uint256, bool, uint256[3] memory)&#123;</span><br><span class="line">        return(1, true, [uint256(1),2,5]);</span><br><span class="line">    &#125;</span><br><span class="line">    // å‘½åå¼è¿”å›</span><br><span class="line">    function returnNamed() public pure returns(uint256 _number, bool _bool, uint256[3] memory _array)&#123;</span><br><span class="line">        _number = 2;</span><br><span class="line">        _bool = false;</span><br><span class="line">        _array = [uint256(3),2,1];</span><br><span class="line">    &#125;</span><br><span class="line">    // å‘½åå¼è¿”å›ï¼Œä¾ç„¶æ”¯æŒreturn</span><br><span class="line">    function returnNamed2() public pure returns(uint256 _number, bool _bool, uint256[3] memory _array)&#123;</span><br><span class="line">        return(1, true, [uint256(1),2,5]);</span><br><span class="line">    &#125;</span><br><span class="line">    //è¯»å–è¿”å›å€¼ï¼Œè§£æ„å¼èµ‹å€¼</span><br><span class="line">    function readReturn() public pure&#123;</span><br><span class="line">        //è¯»å–å…¨éƒ¨è¿”å›å€¼</span><br><span class="line">        uint256 _number;</span><br><span class="line">        bool _bool;</span><br><span class="line">        bool _bool2;</span><br><span class="line">        uint256[3] memory _array;</span><br><span class="line">        (_number, _bool, _array) = returnNamed();</span><br><span class="line"></span><br><span class="line">        //è¯»å–éƒ¨åˆ†è¿”å›å€¼</span><br><span class="line">        (,_bool2,) = returnNamed();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›å€¼ï¼šreturnå’Œreturns"><a href="#è¿”å›å€¼ï¼šreturnå’Œreturns" class="headerlink" title="è¿”å›å€¼ï¼šreturnå’Œreturns"></a>è¿”å›å€¼ï¼šreturnå’Œreturns</h4><ul>
<li><code>returns</code>: è·Ÿåœ¨å‡½æ•°ååé¢ï¼Œç”¨äºå£°æ˜è¿”å›çš„å˜é‡ç±»å‹åŠå˜é‡åã€‚</li>
<li><code>return</code>: ç”¨äºå‡½æ•°ä¸»ä½“ä¸­ï¼Œè¿”å›æŒ‡å®šçš„å˜é‡ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// è¿”å›å¤šä¸ªå˜é‡</span><br><span class="line">function returnMultiple() public pure returns(uint256, bool, uint256[3] memory)&#123;</span><br><span class="line">    return(1, true, [uint256(1),2,5]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>returns</code> å…³é”®å­—å£°æ˜äº†æœ‰å¤šä¸ªè¿”å›å€¼çš„ <code>returnMultiple()</code> å‡½æ•°ï¼Œç„¶åæˆ‘ä»¬åœ¨å‡½æ•°ä¸»ä½“ä¸­ä½¿ç”¨ <code>return(1, true, [uint256(1),2,5])</code> ç¡®å®šäº†è¿”å›å€¼ã€‚</p>
<p>è¿™é‡Œ<code>uint256[3]</code>å£°æ˜äº†ä¸€ä¸ªé•¿åº¦ä¸º<code>3</code>ä¸”ç±»å‹ä¸º<code>uint256</code>çš„æ•°ç»„ä½œä¸ºè¿”å›å€¼ã€‚<strong>å› ä¸º<code>[1,2,3]</code>ä¼šé»˜è®¤ä¸º<code>uint8(3)</code>ï¼Œå› æ­¤<code>[uint256(1),2,5]</code>ä¸­é¦–ä¸ªå…ƒç´ å¿…é¡»å¼ºè½¬<code>uint256</code>æ¥å£°æ˜è¯¥æ•°ç»„å†…çš„å…ƒç´ çš†ä¸ºæ­¤ç±»å‹</strong>ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250123234741062.png" alt="image-20250123234741062"></p>
<h4 id="å‘½åå¼è¿”å›"><a href="#å‘½åå¼è¿”å›" class="headerlink" title="å‘½åå¼è¿”å›"></a>å‘½åå¼è¿”å›</h4><p>å¯ä»¥åœ¨ <code>returns</code> ä¸­æ ‡æ˜è¿”å›å˜é‡çš„åç§°ã€‚Solidity ä¼šåˆå§‹åŒ–è¿™äº›å˜é‡ï¼Œå¹¶ä¸”è‡ªåŠ¨è¿”å›è¿™äº›å‡½æ•°çš„å€¼ï¼Œæ— éœ€ä½¿ç”¨ <code>return</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// å‘½åå¼è¿”å›</span><br><span class="line">function returnNamed() public pure returns(uint256 _number, bool _bool, uint256[3] memory _array)&#123;</span><br><span class="line">    _number = 2;</span><br><span class="line">    _bool = false;</span><br><span class="line">    _array = [uint256(3),2,1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨ <code>returns(uint256 _number, bool _bool, uint256[3] memory _array)</code> å£°æ˜äº†è¿”å›å˜é‡ç±»å‹ä»¥åŠå˜é‡åã€‚è¿™æ ·ï¼Œåœ¨ä¸»ä½“ä¸­åªéœ€ä¸ºå˜é‡ <code>_number</code>ã€<code>_bool</code>å’Œ<code>_array</code> èµ‹å€¼ï¼Œå³å¯<strong>è‡ªåŠ¨è¿”å›</strong>ã€‚</p>
<p>ä¹Ÿå¯ä»¥åœ¨å‘½åå¼è¿”å›ä¸­ç”¨ <code>return</code> æ¥è¿”å›å˜é‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// å‘½åå¼è¿”å›ï¼Œä¾ç„¶æ”¯æŒreturn</span><br><span class="line">function returnNamed2() public pure returns(uint256 _number, bool _bool, uint256[3] memory _array)&#123;</span><br><span class="line">    return(1, true, [uint256(1),2,5]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è§£æ„å¼å¤åˆ¶"><a href="#è§£æ„å¼å¤åˆ¶" class="headerlink" title="è§£æ„å¼å¤åˆ¶"></a>è§£æ„å¼å¤åˆ¶</h4><p>Solidity æ”¯æŒä½¿ç”¨è§£æ„å¼èµ‹å€¼è§„åˆ™æ¥è¯»å–å‡½æ•°çš„å…¨éƒ¨æˆ–éƒ¨åˆ†è¿”å›å€¼ã€‚</p>
<ul>
<li>è¯»å–æ‰€æœ‰è¿”å›å€¼ï¼šå£°æ˜å˜é‡ï¼Œç„¶åå°†è¦èµ‹å€¼çš„å˜é‡ç”¨<code>,</code>éš”å¼€ï¼ŒæŒ‰é¡ºåºæ’åˆ—ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uint256 _number;</span><br><span class="line">bool _bool;</span><br><span class="line">uint256[3] memory _array;</span><br><span class="line">(_number, _bool, _array) = returnNamed();</span><br></pre></td></tr></table></figure>

<ul>
<li>è¯»å–éƒ¨åˆ†è¿”å›å€¼ï¼šå£°æ˜è¦è¯»å–çš„è¿”å›å€¼å¯¹åº”çš„å˜é‡ï¼Œä¸è¯»å–çš„ç•™ç©ºã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åªè¯»å–<code>_bool</code>ï¼Œè€Œä¸è¯»å–è¿”å›çš„<code>_number</code>å’Œ<code>_array</code>ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(, _bool2, ) = returnNamed();</span><br></pre></td></tr></table></figure>

<h2 id="å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ"><a href="#å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ" class="headerlink" title="å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ"></a>å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ</h2><p>æµ‹è¯•ä»£ç <code>DataStorage.sol</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line"></span><br><span class="line">contract DataStorage &#123;</span><br><span class="line">    // The data location of x is storage.</span><br><span class="line">    // This is the only place where the</span><br><span class="line">    // data location can be omitted.</span><br><span class="line">    uint[] public x = [1,2,3];</span><br><span class="line"></span><br><span class="line">    function fStorage() public&#123;</span><br><span class="line">        //å£°æ˜ä¸€ä¸ªstorageçš„å˜é‡xStorageï¼ŒæŒ‡å‘xã€‚ä¿®æ”¹xStorageä¹Ÿä¼šå½±å“x</span><br><span class="line">        uint[] storage xStorage = x;</span><br><span class="line">        xStorage[0] = 100;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function fMemory() public view&#123;</span><br><span class="line">        //å£°æ˜ä¸€ä¸ªMemoryçš„å˜é‡xMemoryï¼Œå¤åˆ¶xã€‚ä¿®æ”¹xMemoryä¸ä¼šå½±å“x</span><br><span class="line">        uint[] memory xMemory = x;</span><br><span class="line">        xMemory[0] = 100;</span><br><span class="line">        xMemory[1] = 200;</span><br><span class="line">        uint[] memory xMemory2 = x;</span><br><span class="line">        xMemory2[0] = 300;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function fCalldata(uint[] calldata _x) public pure returns(uint[] calldata)&#123;</span><br><span class="line">        //å‚æ•°ä¸ºcalldataæ•°ç»„ï¼Œä¸èƒ½è¢«ä¿®æ”¹</span><br><span class="line">        // _x[0] = 0 //è¿™æ ·ä¿®æ”¹ä¼šæŠ¥é”™</span><br><span class="line">        return(_x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä»£ç <code>Variables.sol</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line"></span><br><span class="line">contract Variables &#123;</span><br><span class="line">    uint public x = 1;</span><br><span class="line">    uint public y;</span><br><span class="line">    string public z;</span><br><span class="line"></span><br><span class="line">    function foo() external&#123;</span><br><span class="line">        // å¯ä»¥åœ¨å‡½æ•°é‡Œæ›´æ”¹çŠ¶æ€å˜é‡çš„å€¼</span><br><span class="line">        x = 5;</span><br><span class="line">        y = 2;</span><br><span class="line">        z = &quot;0xAA&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function bar() external pure returns(uint)&#123;</span><br><span class="line">        uint xx = 1;</span><br><span class="line">        uint yy = 3;</span><br><span class="line">        uint zz = xx + yy;</span><br><span class="line">        return(zz);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function global() external view returns(address, uint, bytes memory)&#123;</span><br><span class="line">        address sender = msg.sender;</span><br><span class="line">        uint blockNum = block.number;</span><br><span class="line">        bytes memory data = msg.data;</span><br><span class="line">        return(sender, blockNum, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function weiUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 wei == 1e0);</span><br><span class="line">        assert(1 wei == 1);</span><br><span class="line">        return 1 wei;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function gweiUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 gwei == 1e9);</span><br><span class="line">        assert(1 gwei == 1000000000);</span><br><span class="line">        return 1 gwei;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function etherUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 ether == 1e18);</span><br><span class="line">        assert(1 ether == 1000000000000000000);</span><br><span class="line">        return 1 ether;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function secondsUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 seconds == 1);</span><br><span class="line">        return 1 seconds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function minutesUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 minutes == 60);</span><br><span class="line">        assert(1 minutes == 60 seconds);</span><br><span class="line">        return 1 minutes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function hoursUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 hours == 3600);</span><br><span class="line">        assert(1 hours == 60 minutes);</span><br><span class="line">        return 1 hours;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function daysUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 days == 86400);</span><br><span class="line">        assert(1 days == 24 hours);</span><br><span class="line">        return 1 days;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function weeksUnit() external pure returns(uint) &#123;</span><br><span class="line">        assert(1 weeks == 604800);</span><br><span class="line">        assert(1 weeks == 7 days);</span><br><span class="line">        return 1 weeks;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solidityä¸­çš„å¼•ç”¨ç±»å‹"><a href="#Solidityä¸­çš„å¼•ç”¨ç±»å‹" class="headerlink" title="Solidityä¸­çš„å¼•ç”¨ç±»å‹"></a>Solidityä¸­çš„å¼•ç”¨ç±»å‹</h3><p>**å¼•ç”¨ç±»å‹(Reference Type)**ï¼šåŒ…æ‹¬æ•°ç»„ï¼ˆ<code>array</code>ï¼‰å’Œç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰ï¼Œç”±äºè¿™ç±»å˜é‡æ¯”è¾ƒå¤æ‚ï¼Œå ç”¨å­˜å‚¨ç©ºé—´å¤§ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¿…é¡»è¦å£°æ˜æ•°æ®å­˜å‚¨çš„ä½ç½®ã€‚</p>
<h3 id="æ•°æ®ä½ç½®"><a href="#æ•°æ®ä½ç½®" class="headerlink" title="æ•°æ®ä½ç½®"></a>æ•°æ®ä½ç½®</h3><p>Solidityæ•°æ®å­˜å‚¨ä½ç½®æœ‰ä¸‰ç±»ï¼š<code>storage</code>ï¼Œ<code>memory</code>å’Œ<code>calldata</code>ã€‚ä¸åŒå­˜å‚¨ä½ç½®çš„<code>gas</code>æˆæœ¬ä¸åŒã€‚</p>
<ul>
<li><p><code>storage</code>ç±»å‹çš„æ•°æ®å­˜åœ¨é“¾ä¸Šï¼Œç±»ä¼¼è®¡ç®—æœºçš„ç¡¬ç›˜ï¼Œæ¶ˆè€—<code>gas</code>å¤šï¼›</p>
</li>
<li><p><code>memory</code>å’Œ<code>calldata</code>ç±»å‹çš„ä¸´æ—¶å­˜åœ¨å†…å­˜é‡Œï¼Œæ¶ˆè€—<code>gas</code>å°‘ã€‚</p>
</li>
</ul>
<p>å¤§è‡´ç”¨æ³•ï¼š</p>
<ol>
<li><code>storage</code>ï¼šåˆçº¦é‡Œçš„çŠ¶æ€å˜é‡é»˜è®¤éƒ½æ˜¯<code>storage</code>ï¼Œå­˜å‚¨åœ¨é“¾ä¸Šã€‚</li>
<li><code>memory</code>ï¼šå‡½æ•°é‡Œçš„å‚æ•°å’Œä¸´æ—¶å˜é‡ä¸€èˆ¬ç”¨<code>memory</code>ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸ä¸Šé“¾ã€‚å°¤å…¶æ˜¯å¦‚æœè¿”å›æ•°æ®ç±»å‹æ˜¯å˜é•¿çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»åŠ memoryä¿®é¥°ï¼Œä¾‹å¦‚ï¼šstring, bytes, arrayå’Œè‡ªå®šä¹‰ç»“æ„ã€‚</li>
<li><code>calldata</code>ï¼šå’Œ<code>memory</code>ç±»ä¼¼ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸ä¸Šé“¾ã€‚ä¸<code>memory</code>çš„ä¸åŒç‚¹åœ¨äº<code>calldata</code>å˜é‡ä¸èƒ½ä¿®æ”¹ï¼ˆ<code>immutable</code>ï¼‰ï¼Œä¸€èˆ¬ç”¨äºå‡½æ•°çš„å‚æ•°ã€‚</li>
</ol>
<p><code>calldata</code>ä¿®é¥°çš„å˜é‡ä¸èƒ½è¢«ä¿®æ”¹ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fCalldata(uint[] calldata _x) public pure returns(uint[] calldata)&#123;</span><br><span class="line">    //å‚æ•°ä¸ºcalldataæ•°ç»„ï¼Œä¸èƒ½è¢«ä¿®æ”¹</span><br><span class="line">    _x[0] = 0; //è¿™æ ·ä¿®æ”¹ä¼šæŠ¥é”™</span><br><span class="line">    return(_x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124163637660.png" alt="image-20250124163637660"></p>
<h4 id="æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™"><a href="#æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™" class="headerlink" title="æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™"></a>æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™</h4><p>åœ¨ä¸åŒå­˜å‚¨ç±»å‹ç›¸äº’èµ‹å€¼æ—¶å€™ï¼Œ<strong>æœ‰æ—¶ä¼šäº§ç”Ÿç‹¬ç«‹çš„å‰¯æœ¬ï¼ˆä¿®æ”¹æ–°å˜é‡ä¸ä¼šå½±å“åŸå˜é‡ï¼‰ï¼Œæœ‰æ—¶ä¼šäº§ç”Ÿå¼•ç”¨ï¼ˆä¿®æ”¹æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ï¼‰</strong>ã€‚è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>èµ‹å€¼æœ¬è´¨ä¸Šæ˜¯åˆ›å»º<strong>å¼•ç”¨</strong>æŒ‡å‘æœ¬ä½“ï¼Œå› æ­¤ä¿®æ”¹æœ¬ä½“æˆ–è€…æ˜¯å¼•ç”¨ï¼Œå˜åŒ–å¯ä»¥è¢«åŒæ­¥ã€‚</li>
</ol>
<ul>
<li><code>storage</code>ï¼ˆåˆçº¦çš„çŠ¶æ€å˜é‡ï¼‰èµ‹å€¼ç»™æœ¬åœ°<code>storage</code>ï¼ˆå‡½æ•°é‡Œçš„ï¼‰æ—¶å€™ï¼Œä¼šåˆ›å»ºå¼•ç”¨ï¼Œæ”¹å˜æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ã€‚æ ·ä¾‹å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">uint[] x = [1,2,3]; // çŠ¶æ€å˜é‡ï¼šæ•°ç»„ x</span><br><span class="line"></span><br><span class="line">function fStorage() public&#123;</span><br><span class="line">    //å£°æ˜ä¸€ä¸ªstorageçš„å˜é‡ xStorageï¼ŒæŒ‡å‘xã€‚ä¿®æ”¹xStorageä¹Ÿä¼šå½±å“x</span><br><span class="line">    uint[] storage xStorage = x;</span><br><span class="line">    xStorage[0] = 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éƒ¨ç½²è°ƒç”¨ä¸€ä¸‹<code>fStorage</code>å‡½æ•°ï¼Œç„¶ååˆ©ç”¨äº¤æ˜“çš„<code>hash</code>å¯¹ä»£ç è¿›è¡Œè°ƒè¯•ï¼Œå‘ç°æ•°å€¼è¢«æ›´æ”¹ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124165024783.png" alt="image-20250124165024783"></p>
<ul>
<li><code>memory</code>èµ‹å€¼ç»™<code>memory</code>ï¼Œä¼šåˆ›å»ºå¼•ç”¨ï¼Œæ”¹å˜æ–°å˜é‡ä¼šå½±å“åŸå˜é‡ã€‚</li>
</ul>
<ol start="2">
<li>å…¶ä»–æƒ…å†µä¸‹ï¼Œèµ‹å€¼åˆ›å»ºçš„æ˜¯æœ¬ä½“çš„å‰¯æœ¬ï¼Œå³å¯¹äºŒè€…ä¹‹ä¸€çš„ä¿®æ”¹ï¼Œå¹¶ä¸ä¼šåŒæ­¥åˆ°å¦ä¸€æ–¹ã€‚</li>
</ol>
<h3 id="å˜é‡çš„ä½œç”¨åŸŸ"><a href="#å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡çš„ä½œç”¨åŸŸ"></a>å˜é‡çš„ä½œç”¨åŸŸ</h3><p><code>Solidity</code>ä¸­å˜é‡æŒ‰ä½œç”¨åŸŸåˆ’åˆ†æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯<strong>çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰</strong>ï¼Œ<strong>å±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰</strong>å’Œ<strong>å…¨å±€å˜é‡(global variable)</strong></p>
<h4 id="çŠ¶æ€å˜é‡ï¼ˆstate-variableï¼‰"><a href="#çŠ¶æ€å˜é‡ï¼ˆstate-variableï¼‰" class="headerlink" title="çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰"></a>çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰</h4><p>çŠ¶æ€å˜é‡æ˜¯æ•°æ®å­˜å‚¨åœ¨é“¾ä¸Šçš„å˜é‡ï¼Œæ‰€æœ‰åˆçº¦å†…å‡½æ•°éƒ½å¯ä»¥è®¿é—®ï¼Œ<code>gas</code>æ¶ˆè€—é«˜ã€‚çŠ¶æ€å˜é‡åœ¨åˆçº¦å†…ã€å‡½æ•°å¤–å£°æ˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">contract Variables &#123;</span><br><span class="line">    uint public x = 1;</span><br><span class="line">    uint public y;</span><br><span class="line">    string public z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨å‡½æ•°é‡Œæ›´æ”¹çŠ¶æ€å˜é‡çš„å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function foo() external&#123;</span><br><span class="line">    // å¯ä»¥åœ¨å‡½æ•°é‡Œæ›´æ”¹çŠ¶æ€å˜é‡çš„å€¼</span><br><span class="line">    x = 5;</span><br><span class="line">    y = 2;</span><br><span class="line">    z = &quot;0xAA&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å±€éƒ¨å˜é‡ï¼ˆlocal-variableï¼‰"><a href="#å±€éƒ¨å˜é‡ï¼ˆlocal-variableï¼‰" class="headerlink" title="å±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰"></a>å±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰</h4><p>å±€éƒ¨å˜é‡æ˜¯ä»…åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰æ•ˆçš„å˜é‡ï¼Œ<strong>å‡½æ•°é€€å‡ºåï¼Œå˜é‡æ— æ•ˆ</strong>ã€‚å±€éƒ¨å˜é‡çš„<strong>æ•°æ®å­˜å‚¨åœ¨å†…å­˜é‡Œï¼Œä¸ä¸Šé“¾ï¼Œ<code>gas</code>ä½ã€‚</strong></p>
<p>å±€éƒ¨å˜é‡åœ¨å‡½æ•°å†…å£°æ˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function bar() external pure returns(uint)&#123;</span><br><span class="line">    uint xx = 1;</span><br><span class="line">    uint yy = 3;</span><br><span class="line">    uint zz = xx + yy;</span><br><span class="line">    return(zz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å…¨å±€å˜é‡ï¼ˆglobal-variableï¼‰"><a href="#å…¨å±€å˜é‡ï¼ˆglobal-variableï¼‰" class="headerlink" title="å…¨å±€å˜é‡ï¼ˆglobal variableï¼‰"></a>å…¨å±€å˜é‡ï¼ˆglobal variableï¼‰</h4><p>å…¨å±€å˜é‡æ˜¯å…¨å±€èŒƒå›´å·¥ä½œçš„å˜é‡ï¼Œéƒ½æ˜¯<code>solidity</code>é¢„ç•™å…³é”®å­—ã€‚ä»–ä»¬å¯ä»¥åœ¨å‡½æ•°å†…ä¸å£°æ˜ç›´æ¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function global() external view returns(address, uint, bytes memory)&#123;</span><br><span class="line">    address sender = msg.sender;</span><br><span class="line">    uint blockNum = block.number;</span><br><span class="line">    bytes memory data = msg.data;</span><br><span class="line">    return(sender, blockNum, data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢ä¾‹å­é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†3ä¸ªå¸¸ç”¨çš„å…¨å±€å˜é‡ï¼š<code>msg.sender</code>ï¼Œ<code>block.number</code>å’Œ<code>msg.data</code>ï¼Œä»–ä»¬åˆ†åˆ«ä»£è¡¨è¯·æ±‚å‘èµ·åœ°å€ï¼Œå½“å‰åŒºå—é«˜åº¦ï¼Œå’Œè¯·æ±‚æ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„å…¨å±€å˜é‡ï¼Œæ›´å®Œæ•´çš„åˆ—è¡¨è¯·çœ‹è¿™ä¸ª<a target="_blank" rel="noopener" href="https://learnblockchain.cn/docs/solidity/units-and-global-variables.html#special-variables-and-functions">é“¾æ¥</a>ï¼š</p>
<ul>
<li><code>blockhash(uint blockNumber)</code>: (<code>bytes32</code>) ç»™å®šåŒºå—çš„å“ˆå¸Œå€¼ â€“ åªé€‚ç”¨äº256æœ€è¿‘åŒºå—, ä¸åŒ…å«å½“å‰åŒºå—ã€‚</li>
<li><code>block.coinbase</code>: (<code>address payable</code>) å½“å‰åŒºå—çŸ¿å·¥çš„åœ°å€</li>
<li><code>block.gaslimit</code>: (<code>uint</code>) å½“å‰åŒºå—çš„gaslimit</li>
<li><code>block.number</code>: (<code>uint</code>) å½“å‰åŒºå—çš„number</li>
<li><code>block.timestamp</code>: (<code>uint</code>) å½“å‰åŒºå—çš„æ—¶é—´æˆ³ï¼Œä¸ºunixçºªå…ƒä»¥æ¥çš„ç§’</li>
<li><code>gasleft()</code>: (<code>uint256</code>) å‰©ä½™ gas</li>
<li><code>msg.data</code>: (<code>bytes calldata</code>) å®Œæ•´call data</li>
<li><code>msg.sender</code>: (<code>address payable</code>) æ¶ˆæ¯å‘é€è€… (å½“å‰ caller)</li>
<li><code>msg.sig</code>: (<code>bytes4</code>) calldataçš„å‰å››ä¸ªå­—èŠ‚ (function identifier)</li>
<li><code>msg.value</code>: (<code>uint</code>) å½“å‰äº¤æ˜“å‘é€çš„ <code>wei</code> å€¼</li>
<li><code>block.blobbasefee</code>: (<code>uint</code>) å½“å‰åŒºå—çš„blobåŸºç¡€è´¹ç”¨ã€‚è¿™æ˜¯Cancunå‡çº§æ–°å¢çš„å…¨å±€å˜é‡ã€‚</li>
<li><code>blobhash(uint index)</code>: (<code>bytes32</code>) è¿”å›è·Ÿå½“å‰äº¤æ˜“å…³è”çš„ç¬¬ <code>index</code> ä¸ªblobçš„ç‰ˆæœ¬åŒ–å“ˆå¸Œï¼ˆç¬¬ä¸€ä¸ªå­—èŠ‚ä¸ºç‰ˆæœ¬å·ï¼Œå½“å‰ä¸º<code>0x01</code>ï¼Œåé¢æ¥KZGæ‰¿è¯ºçš„SHA256å“ˆå¸Œçš„æœ€å31ä¸ªå­—èŠ‚ï¼‰ã€‚è‹¥å½“å‰äº¤æ˜“ä¸åŒ…å«blobï¼Œåˆ™è¿”å›ç©ºå­—èŠ‚ã€‚è¿™æ˜¯Cancunå‡çº§æ–°å¢çš„å…¨å±€å˜é‡ã€‚</li>
</ul>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124230136670.png" alt="image-20250124230136670"></p>
<h4 id="å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½"><a href="#å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½" class="headerlink" title="å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½"></a>å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½</h4><p><strong>ä»¥å¤ªå•ä½</strong></p>
<p><code>Solidity</code>ä¸­ä¸å­˜åœ¨å°æ•°ç‚¹ï¼Œä»¥<code>0</code>ä»£æ›¿ä¸ºå°æ•°ç‚¹ï¼Œæ¥ç¡®ä¿äº¤æ˜“çš„ç²¾ç¡®åº¦ï¼Œå¹¶ä¸”é˜²æ­¢ç²¾åº¦çš„æŸå¤±ï¼Œåˆ©ç”¨ä»¥å¤ªå•ä½å¯ä»¥é¿å…è¯¯ç®—çš„é—®é¢˜ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜åœ¨åˆçº¦ä¸­å¤„ç†è´§å¸äº¤æ˜“ã€‚</p>
<ul>
<li><code>wei</code>: 1</li>
<li><code>gwei</code>: 1e9 &#x3D; 1000000000</li>
<li><code>ether</code>: 1e18 &#x3D; 1000000000000000000</li>
</ul>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124232933314.png" alt="image-20250124232933314"></p>
<p><strong>æ—¶é—´å•ä½</strong></p>
<p>å¯ä»¥åœ¨åˆçº¦ä¸­è§„å®šä¸€ä¸ªæ“ä½œå¿…é¡»åœ¨ä¸€å‘¨å†…å®Œæˆï¼Œæˆ–è€…æŸä¸ªäº‹ä»¶åœ¨ä¸€ä¸ªæœˆåå‘ç”Ÿã€‚è¿™æ ·å°±èƒ½è®©åˆçº¦çš„æ‰§è¡Œå¯ä»¥æ›´åŠ ç²¾ç¡®ï¼Œä¸ä¼šå› ä¸ºæŠ€æœ¯ä¸Šçš„è¯¯å·®è€Œå½±å“åˆçº¦çš„ç»“æœã€‚å› æ­¤ï¼Œæ—¶é—´å•ä½åœ¨<code>Solidity</code>ä¸­æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œæœ‰åŠ©äºæé«˜åˆçº¦çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<ul>
<li><code>seconds</code>: 1</li>
<li><code>minutes</code>: 60 seconds &#x3D; 60</li>
<li><code>hours</code>: 60 minutes &#x3D; 3600</li>
<li><code>days</code>: 24 hours &#x3D; 86400</li>
<li><code>weeks</code>: 7 days &#x3D; 604800</li>
</ul>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124233108775.png" alt="image-20250124233108775"></p>
<h2 id="å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹"><a href="#å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹"></a>å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹</h2><h3 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ä»‹ç»<code>Solidity</code>ä¸­çš„ä¸¤ä¸ªé‡è¦å˜é‡ç±»å‹ï¼šæ•°ç»„ï¼ˆ<code>array</code>ï¼‰å’Œç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰ã€‚</p>
<h4 id="æ•°ç»„array"><a href="#æ•°ç»„array" class="headerlink" title="æ•°ç»„array"></a>æ•°ç»„array</h4><p>æ•°ç»„ï¼ˆ<code>Array</code>ï¼‰æ˜¯<code>Solidity</code>å¸¸ç”¨çš„ä¸€ç§å˜é‡ç±»å‹ï¼Œç”¨æ¥å­˜å‚¨ä¸€ç»„æ•°æ®ï¼ˆæ•´æ•°ï¼Œå­—èŠ‚ï¼Œåœ°å€ç­‰ç­‰ï¼‰ã€‚æ•°ç»„åˆ†ä¸ºå›ºå®šé•¿åº¦æ•°ç»„å’Œå¯å˜é•¿åº¦æ•°ç»„ä¸¤ç§ï¼š</p>
<ul>
<li>å›ºå®šé•¿åº¦æ•°ç»„ï¼šåœ¨å£°æ˜æ—¶æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ç”¨<code>T[k]</code>çš„æ ¼å¼å£°æ˜ï¼Œå…¶ä¸­<code>T</code>æ˜¯å…ƒç´ çš„ç±»å‹ï¼Œ<code>k</code>æ˜¯é•¿åº¦ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// å›ºå®šé•¿åº¦ Array</span><br><span class="line">uint[8] array1;</span><br><span class="line">bytes1[5] array2;</span><br><span class="line">address[100] array3;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯å˜é•¿åº¦æ•°ç»„ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰ï¼šåœ¨å£°æ˜æ—¶ä¸æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ç”¨<code>T[]</code>çš„æ ¼å¼å£°æ˜ï¼Œå…¶ä¸­<code>T</code>æ˜¯å…ƒç´ çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// å¯å˜é•¿åº¦ Array</span><br><span class="line">uint[] array4;</span><br><span class="line">bytes1[] array5;</span><br><span class="line">address[] array6;</span><br><span class="line">bytes array7;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„âš ï¸</strong>ï¼š<code>bytes</code>æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯æ•°ç»„ï¼Œä½†æ˜¯ä¸ç”¨åŠ <code>[]</code>ã€‚å¦å¤–ï¼Œä¸èƒ½ç”¨<code>byte[]</code>å£°æ˜å•å­—èŠ‚æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨<code>bytes</code>æˆ–<code>bytes1[]</code>ã€‚<code>bytes</code> æ¯” <code>bytes1[]</code> çœgasã€‚</p>
<h5 id="åˆ›å»ºæ•°ç»„çš„è§„åˆ™"><a href="#åˆ›å»ºæ•°ç»„çš„è§„åˆ™" class="headerlink" title="åˆ›å»ºæ•°ç»„çš„è§„åˆ™"></a>åˆ›å»ºæ•°ç»„çš„è§„åˆ™</h5><p>åœ¨Solidityé‡Œï¼Œåˆ›å»ºæ•°ç»„æœ‰ä¸€äº›è§„åˆ™ï¼š</p>
<ul>
<li>å¯¹äº<code>memory</code>ä¿®é¥°çš„<code>åŠ¨æ€æ•°ç»„</code>ï¼Œå¯ä»¥ç”¨<code>new</code>æ“ä½œç¬¦æ¥åˆ›å»ºï¼Œä½†æ˜¯å¿…é¡»å£°æ˜é•¿åº¦ï¼Œå¹¶ä¸”å£°æ˜åé•¿åº¦ä¸èƒ½æ”¹å˜ã€‚ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// memoryåŠ¨æ€æ•°ç»„</span><br><span class="line">uint[] memory array8 = new uint[](5);</span><br><span class="line">bytes memory array9 = new bytes(9);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ•°ç»„å­—é¢å¸¸æ•°(Array Literals)æ˜¯å†™ä½œè¡¨è¾¾å¼å½¢å¼çš„æ•°ç»„ï¼Œç”¨æ–¹æ‹¬å·åŒ…ç€æ¥åˆå§‹åŒ–arrayçš„ä¸€ç§æ–¹å¼ï¼Œå¹¶ä¸”é‡Œé¢æ¯ä¸€ä¸ªå…ƒç´ çš„typeæ˜¯ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå‡†çš„ï¼Œä¾‹å¦‚<code>[1,2,3]</code>é‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯<code>uint8</code>ç±»å‹ï¼Œå› ä¸ºåœ¨Solidityä¸­ï¼Œå¦‚æœä¸€ä¸ªå€¼æ²¡æœ‰æŒ‡å®štypeçš„è¯ï¼Œä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‡ºå…ƒç´ çš„ç±»å‹ï¼Œé»˜è®¤å°±æ˜¯æœ€å°å•ä½çš„typeï¼Œè¿™é‡Œé»˜è®¤æœ€å°å•ä½ç±»å‹æ˜¯<code>uint8</code>ã€‚è€Œ<code>[uint(1),2,3]</code>é‡Œé¢çš„å…ƒç´ éƒ½æ˜¯<code>uint</code>ç±»å‹ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å®šäº†æ˜¯<code>uint</code>ç±»å‹äº†ï¼Œé‡Œé¢æ¯ä¸€ä¸ªå…ƒç´ çš„typeéƒ½ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå‡†ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ<strong>å¦‚æœæ²¡æœ‰å¯¹ä¼ å…¥ <code>g()</code> å‡½æ•°çš„æ•°ç»„è¿›è¡Œ <code>uint</code> è½¬æ¢ï¼Œæ˜¯ä¼šæŠ¥é”™çš„ã€‚</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: GPL-3.0</span><br><span class="line">pragma solidity &gt;=0.4.16 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract C &#123;</span><br><span class="line">    function f() public pure &#123;</span><br><span class="line">        g([uint(1), 2, 3]);</span><br><span class="line">    &#125;</span><br><span class="line">    function g(uint[3] memory _data) public pure &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœåˆ›å»ºçš„æ˜¯åŠ¨æ€æ•°ç»„ï¼Œä½ éœ€è¦ä¸€ä¸ªä¸€ä¸ªå…ƒç´ çš„èµ‹å€¼ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uint[] memory x = new uint[](3);</span><br><span class="line">x[0] = 1;</span><br><span class="line">x[1] = 3;</span><br><span class="line">x[2] = 4;</span><br></pre></td></tr></table></figure>

<h5 id="æ•°ç»„æˆå‘˜"><a href="#æ•°ç»„æˆå‘˜" class="headerlink" title="æ•°ç»„æˆå‘˜"></a>æ•°ç»„æˆå‘˜</h5><ul>
<li><code>length</code>: æ•°ç»„æœ‰ä¸€ä¸ªåŒ…å«å…ƒç´ æ•°é‡çš„<code>length</code>æˆå‘˜ï¼Œ<code>memory</code>æ•°ç»„çš„é•¿åº¦åœ¨åˆ›å»ºåæ˜¯å›ºå®šçš„ã€‚</li>
<li><code>push()</code>: <code>åŠ¨æ€æ•°ç»„</code>æ‹¥æœ‰<code>push()</code>æˆå‘˜ï¼Œå¯ä»¥<strong>åœ¨æ•°ç»„æœ€åæ·»åŠ ä¸€ä¸ª<code>0</code>å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å¼•ç”¨</strong>ã€‚</li>
<li><code>push(x)</code>: <code>åŠ¨æ€æ•°ç»„</code>æ‹¥æœ‰<code>push(x)</code>æˆå‘˜ï¼Œ<strong>å¯ä»¥åœ¨æ•°ç»„æœ€åæ·»åŠ ä¸€ä¸ª<code>x</code>å…ƒç´ </strong>ã€‚</li>
<li><code>pop()</code>: <code>åŠ¨æ€æ•°ç»„</code>æ‹¥æœ‰<code>pop()</code>æˆå‘˜ï¼Œ<strong>å¯ä»¥ç§»é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</strong></li>
</ul>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250124234418473.png" alt="image-20250124234418473"></p>
<h4 id="ç»“æ„ä½“struct"><a href="#ç»“æ„ä½“struct" class="headerlink" title="ç»“æ„ä½“struct"></a>ç»“æ„ä½“struct</h4><p>æ­¤æ—¶ä»£ç <code>StructTypes.sol</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract StructTypes &#123;</span><br><span class="line">    // ç»“æ„ä½“ Struct</span><br><span class="line">    struct Student&#123;</span><br><span class="line">        uint256 id;</span><br><span class="line">        uint256 score; </span><br><span class="line">    &#125;</span><br><span class="line">    Student student; // åˆå§‹ä¸€ä¸ªstudentç»“æ„ä½“</span><br><span class="line">    //  ç»™ç»“æ„ä½“èµ‹å€¼</span><br><span class="line">    // æ–¹æ³•1:åœ¨å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªstorageçš„structå¼•ç”¨</span><br><span class="line">    function initStudent1() external&#123;</span><br><span class="line">        Student storage _student = student; // assign a copy of student</span><br><span class="line">        _student.id = 11;</span><br><span class="line">        _student.score = 100;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ–¹æ³•2:ç›´æ¥å¼•ç”¨çŠ¶æ€å˜é‡çš„struct</span><br><span class="line">    function initStudent2() external&#123;</span><br><span class="line">        student.id = 1;</span><br><span class="line">        student.score = 80;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // æ–¹æ³•3:æ„é€ å‡½æ•°å¼</span><br><span class="line">    function initStudent3() external &#123;</span><br><span class="line">        student = Student(3, 90);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ–¹æ³•4:key value</span><br><span class="line">    function initStudent4() external &#123;</span><br><span class="line">        student = Student(&#123;id: 4, score: 60&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Solidity</code>æ”¯æŒé€šè¿‡æ„é€ ç»“æ„ä½“çš„å½¢å¼å®šä¹‰æ–°çš„ç±»å‹ã€‚ç»“æ„ä½“ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯åŸå§‹ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼›ç»“æ„ä½“å¯ä»¥ä½œä¸ºæ•°ç»„æˆ–æ˜ å°„çš„å…ƒç´ ã€‚åˆ›å»ºç»“æ„ä½“çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// ç»“æ„ä½“</span><br><span class="line">struct Student&#123;</span><br><span class="line">    uint256 id;</span><br><span class="line">    uint256 score; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student student; // åˆå§‹ä¸€ä¸ªstudentç»“æ„ä½“</span><br></pre></td></tr></table></figure>

<p>ç»™ç»“æ„ä½“èµ‹å€¼çš„å››ç§æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//  ç»™ç»“æ„ä½“èµ‹å€¼</span><br><span class="line">// æ–¹æ³•1:åœ¨å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªstorageçš„structå¼•ç”¨</span><br><span class="line">function initStudent1() external&#123;</span><br><span class="line">    Student storage _student = student; // assign a copy of student</span><br><span class="line">    _student.id = 11;</span><br><span class="line">    _student.score = 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// æ–¹æ³•2:ç›´æ¥å¼•ç”¨çŠ¶æ€å˜é‡çš„struct</span><br><span class="line">function initStudent2() external&#123;</span><br><span class="line">    student.id = 1;</span><br><span class="line">    student.score = 80;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ–¹æ³•3:æ„é€ å‡½æ•°å¼</span><br><span class="line">function initStudent3() external &#123;</span><br><span class="line">    student = Student(3, 90);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ–¹æ³•4:key value</span><br><span class="line">function initStudent4() external &#123;</span><br><span class="line">    student = Student(&#123;id: 4, score: 60&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ˜ å°„ç±»å‹"><a href="#æ˜ å°„ç±»å‹" class="headerlink" title="æ˜ å°„ç±»å‹"></a>æ˜ å°„ç±»å‹</h3><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ä»‹ç»æ˜ å°„ï¼ˆ<code>Mapping</code>ï¼‰ç±»å‹ï¼ŒSolidityä¸­å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸ºå“ˆå¸Œè¡¨ã€‚</p>
<p>æµ‹è¯•ä»£ç <code>Mapping.sol</code>ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract Mapping &#123;</span><br><span class="line">    mapping(uint =&gt; address) public idToAddress; // idæ˜ å°„åˆ°åœ°å€</span><br><span class="line">    mapping(address =&gt; address) public swapPair; // å¸å¯¹çš„æ˜ å°„ï¼Œåœ°å€åˆ°åœ°å€</span><br><span class="line">    </span><br><span class="line">    // è§„åˆ™1. _KeyTypeä¸èƒ½æ˜¯è‡ªå®šä¹‰çš„ ä¸‹é¢è¿™ä¸ªä¾‹å­ä¼šæŠ¥é”™</span><br><span class="line">    // æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ Struct</span><br><span class="line">    // struct Student&#123;</span><br><span class="line">    //    uint256 id;</span><br><span class="line">    //    uint256 score; </span><br><span class="line">    //&#125;</span><br><span class="line">    // mapping(Struct =&gt; uint) public testVar;</span><br><span class="line"></span><br><span class="line">    function writeMap (uint _Key, address _Value) public&#123;</span><br><span class="line">        idToAddress[_Key] = _Value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ˜ å°„Mapping"><a href="#æ˜ å°„Mapping" class="headerlink" title="æ˜ å°„Mapping"></a>æ˜ å°„Mapping</h4><p>åœ¨æ˜ å°„ä¸­ï¼Œäººä»¬å¯ä»¥é€šè¿‡é”®ï¼ˆ<code>Key</code>ï¼‰æ¥æŸ¥è¯¢å¯¹åº”çš„å€¼ï¼ˆ<code>Value</code>ï¼‰ï¼Œæ¯”å¦‚ï¼šé€šè¿‡ä¸€ä¸ªäººçš„<code>id</code>æ¥æŸ¥è¯¢ä»–çš„é’±åŒ…åœ°å€ã€‚</p>
<p>å£°æ˜æ˜ å°„çš„æ ¼å¼ä¸º<code>mapping(_KeyType =&gt; _ValueType)</code>ï¼Œå…¶ä¸­<code>_KeyType</code>å’Œ<code>_ValueType</code>åˆ†åˆ«æ˜¯<code>Key</code>å’Œ<code>Value</code>çš„å˜é‡ç±»å‹ã€‚ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mapping(uint =&gt; address) public idToAddress; // idæ˜ å°„åˆ°åœ°å€</span><br><span class="line">mapping(address =&gt; address) public swapPair; // å¸å¯¹çš„æ˜ å°„ï¼Œåœ°å€åˆ°åœ°å€</span><br></pre></td></tr></table></figure>

<h4 id="æ˜ å°„çš„è§„åˆ™"><a href="#æ˜ å°„çš„è§„åˆ™" class="headerlink" title="æ˜ å°„çš„è§„åˆ™"></a>æ˜ å°„çš„è§„åˆ™</h4><ul>
<li><strong>è§„åˆ™1</strong>ï¼š<strong>æ˜ å°„çš„<code>_KeyType</code>åªèƒ½é€‰æ‹©Solidityå†…ç½®çš„å€¼ç±»å‹ï¼Œæ¯”å¦‚<code>uint</code>ï¼Œ<code>address</code>ç­‰ï¼Œä¸èƒ½ç”¨è‡ªå®šä¹‰çš„ç»“æ„ä½“ã€‚è€Œ<code>_ValueType</code>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹ã€‚</strong>ä¸‹é¢è¿™ä¸ªä¾‹å­ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>_KeyType</code>ä½¿ç”¨äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„ç»“æ„ä½“ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ Struct</span><br><span class="line">struct Student&#123;</span><br><span class="line">    uint256 id;</span><br><span class="line">    uint256 score; </span><br><span class="line">&#125;</span><br><span class="line">mapping(Student =&gt; uint) public testVar;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>è§„åˆ™2</strong>ï¼šæ˜ å°„çš„å­˜å‚¨ä½ç½®å¿…é¡»æ˜¯<code>storage</code>ï¼Œå› æ­¤å¯ä»¥ç”¨äºåˆçº¦çš„çŠ¶æ€å˜é‡ï¼Œå‡½æ•°ä¸­çš„<code>storage</code>å˜é‡å’Œlibraryå‡½æ•°çš„å‚æ•°ï¼ˆè§<a target="_blank" rel="noopener" href="https://github.com/ethereum/solidity/issues/4635">ä¾‹å­</a>ï¼‰ã€‚ä¸èƒ½ç”¨äº<code>public</code>å‡½æ•°çš„å‚æ•°æˆ–è¿”å›ç»“æœä¸­ï¼Œå› ä¸º<code>mapping</code>è®°å½•çš„æ˜¯ä¸€ç§å…³ç³» (key - value pair)ã€‚</p>
</li>
<li><p><strong>è§„åˆ™3</strong>ï¼šå¦‚æœæ˜ å°„å£°æ˜ä¸º<code>public</code>ï¼Œé‚£ä¹ˆSolidityä¼šè‡ªåŠ¨ç»™ä½ åˆ›å»ºä¸€ä¸ª<code>getter</code>å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡<code>Key</code>æ¥æŸ¥è¯¢å¯¹åº”çš„<code>Value</code>ã€‚</p>
</li>
<li><p><strong>è§„åˆ™4</strong>ï¼šç»™æ˜ å°„æ–°å¢çš„é”®å€¼å¯¹çš„è¯­æ³•ä¸º<code>_Var[_Key] = _Value</code>ï¼Œå…¶ä¸­<code>_Var</code>æ˜¯æ˜ å°„å˜é‡åï¼Œ<code>_Key</code>å’Œ<code>_Value</code>å¯¹åº”æ–°å¢çš„é”®å€¼å¯¹ã€‚ä¾‹å­ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function writeMap (uint _Key, address _Value) public&#123;</span><br><span class="line">    idToAddress[_Key] = _Value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™å…¥<code>mapping</code>ï¼Œå¹¶è¯»å–ã€‚</p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125004147867.png" alt="image-20250125004147867"></p>
<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125004238778.png" alt="image-20250125004238778"></p>
<h4 id="æ˜ å°„çš„åŸç†"><a href="#æ˜ å°„çš„åŸç†" class="headerlink" title="æ˜ å°„çš„åŸç†"></a>æ˜ å°„çš„åŸç†</h4><ul>
<li><strong>åŸç†1</strong>: <strong>æ˜ å°„ä¸å‚¨å­˜ä»»ä½•é”®ï¼ˆ<code>Key</code>ï¼‰çš„èµ„è®¯ï¼Œä¹Ÿæ²¡æœ‰lengthçš„èµ„è®¯ã€‚</strong></li>
<li><strong>åŸç†2</strong>: æ˜ å°„ä½¿ç”¨<code>keccak256(abi.encodePacked(key, slot))</code>å½“æˆoffsetå­˜å–valueï¼Œå…¶ä¸­<code>slot</code>æ˜¯æ˜ å°„å˜é‡å®šä¹‰æ‰€åœ¨çš„æ’æ§½ä½ç½®ã€‚</li>
<li><strong>åŸç†3</strong>: å› ä¸ºEthereumä¼šå®šä¹‰æ‰€æœ‰æœªä½¿ç”¨çš„ç©ºé—´ä¸º0ï¼Œæ‰€ä»¥<strong>æœªèµ‹å€¼ï¼ˆ<code>Value</code>ï¼‰çš„é”®ï¼ˆ<code>Key</code>ï¼‰åˆå§‹å€¼éƒ½æ˜¯å„ä¸ªtypeçš„é»˜è®¤å€¼</strong>ï¼Œå¦‚uintçš„é»˜è®¤å€¼æ˜¯0ã€‚</li>
</ul>
<h2 id="å˜é‡åˆå§‹åŒ–"><a href="#å˜é‡åˆå§‹åŒ–" class="headerlink" title="å˜é‡åˆå§‹åŒ–"></a>å˜é‡åˆå§‹åŒ–</h2><p>åœ¨<code>Solidity</code>ä¸­ï¼Œå£°æ˜ä½†æ²¡èµ‹å€¼çš„å˜é‡éƒ½æœ‰å®ƒçš„åˆå§‹å€¼æˆ–é»˜è®¤å€¼ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¸¸ç”¨å˜é‡çš„åˆå§‹å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line"></span><br><span class="line">contract InitialValue &#123;</span><br><span class="line">    // Value Types</span><br><span class="line">    bool public _bool; // false</span><br><span class="line">    string public _string; // &quot;&quot;</span><br><span class="line">    int public _int; // 0</span><br><span class="line">    uint public _uint; // 0</span><br><span class="line">    address public _address; // 0x0000000000000000000000000000000000000000</span><br><span class="line"></span><br><span class="line">    enum ActionSet &#123; Buy, Hold, Sell&#125;</span><br><span class="line">    ActionSet public _enum; // ç¬¬ä¸€ä¸ªå…ƒç´  0</span><br><span class="line"></span><br><span class="line">    function fi() internal&#123;&#125; // internalç©ºç™½æ–¹ç¨‹ </span><br><span class="line">    function fe() external&#123;&#125; // externalç©ºç™½æ–¹ç¨‹ </span><br><span class="line"></span><br><span class="line">    // Reference Types</span><br><span class="line">    uint[8] public _staticArray; // æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„é™æ€æ•°ç»„[0,0,0,0,0,0,0,0]</span><br><span class="line">    uint[] public _dynamicArray; // `[]`</span><br><span class="line">    mapping(uint =&gt; address) public _mapping; // æ‰€æœ‰å…ƒç´ éƒ½ä¸ºå…¶é»˜è®¤å€¼çš„mapping</span><br><span class="line">    // æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„ç»“æ„ä½“ 0, 0</span><br><span class="line">    struct Student&#123;</span><br><span class="line">        uint256 id;</span><br><span class="line">        uint256 score; </span><br><span class="line">    &#125;</span><br><span class="line">    Student public student;</span><br><span class="line"></span><br><span class="line">    // deleteæ“ä½œç¬¦</span><br><span class="line">    bool public _bool2 = true; </span><br><span class="line">    function d() external &#123;</span><br><span class="line">        delete _bool2; // delete ä¼šè®©_bool2å˜ä¸ºé»˜è®¤å€¼ï¼Œfalse</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å€¼ç±»å‹åˆå§‹å€¼"><a href="#å€¼ç±»å‹åˆå§‹å€¼" class="headerlink" title="å€¼ç±»å‹åˆå§‹å€¼"></a>å€¼ç±»å‹åˆå§‹å€¼</h3><ul>
<li><p><code>boolean</code>: <code>false</code></p>
</li>
<li><p><code>string</code>: <code>&quot;&quot;</code></p>
</li>
<li><p><code>int</code>: <code>0</code></p>
</li>
<li><p><code>uint</code>: <code>0</code></p>
</li>
<li><p><code>enum</code>: æšä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p>
</li>
<li><p><code>address</code>: <code>0x0000000000000000000000000000000000000000</code> (æˆ– <code>address(0)</code>)</p>
</li>
<li><p><code>function</code></p>
<ul>
<li><p><code>internal</code>: ç©ºç™½å‡½æ•°</p>
</li>
<li><p><code>external</code>: ç©ºç™½å‡½æ•°</p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥ç”¨<code>public</code>å˜é‡çš„<code>getter</code>å‡½æ•°éªŒè¯ä¸Šé¢å†™çš„åˆå§‹å€¼æ˜¯å¦æ­£ç¡®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bool public _bool; // false</span><br><span class="line">string public _string; // &quot;&quot;</span><br><span class="line">int public _int; // 0</span><br><span class="line">uint public _uint; // 0</span><br><span class="line">address public _address; // 0x0000000000000000000000000000000000000000</span><br><span class="line"></span><br><span class="line">enum ActionSet &#123; Buy, Hold, Sell&#125;</span><br><span class="line">ActionSet public _enum; // ç¬¬1ä¸ªå†…å®¹Buyçš„ç´¢å¼•0</span><br><span class="line"></span><br><span class="line">function fi() internal&#123;&#125; // internalç©ºç™½å‡½æ•°</span><br><span class="line">function fe() external&#123;&#125; // externalç©ºç™½å‡½æ•° </span><br></pre></td></tr></table></figure>

<h3 id="å¼•ç”¨ç±»å‹åˆå§‹å€¼"><a href="#å¼•ç”¨ç±»å‹åˆå§‹å€¼" class="headerlink" title="å¼•ç”¨ç±»å‹åˆå§‹å€¼"></a>å¼•ç”¨ç±»å‹åˆå§‹å€¼</h3><ul>
<li>æ˜ å°„<code>mapping</code>: æ‰€æœ‰å…ƒç´ éƒ½ä¸ºå…¶é»˜è®¤å€¼çš„<code>mapping</code></li>
<li>ç»“æ„ä½“<code>struct</code>: æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„ç»“æ„ä½“</li>
<li>æ•°ç»„<code>array</code><ul>
<li>åŠ¨æ€æ•°ç»„: <code>[]</code></li>
<li>é™æ€æ•°ç»„ï¼ˆå®šé•¿ï¼‰: æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„é™æ€æ•°ç»„</li>
</ul>
</li>
</ul>
<p>å¯ä»¥ç”¨<code>public</code>å˜é‡çš„<code>getter</code>å‡½æ•°éªŒè¯ä¸Šé¢å†™çš„åˆå§‹å€¼æ˜¯å¦æ­£ç¡®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// Reference Types</span><br><span class="line">uint[8] public _staticArray; // æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„é™æ€æ•°ç»„[0,0,0,0,0,0,0,0]</span><br><span class="line">uint[] public _dynamicArray; // `[]`</span><br><span class="line">mapping(uint =&gt; address) public _mapping; // æ‰€æœ‰å…ƒç´ éƒ½ä¸ºå…¶é»˜è®¤å€¼çš„mapping</span><br><span class="line">// æ‰€æœ‰æˆå‘˜è®¾ä¸ºå…¶é»˜è®¤å€¼çš„ç»“æ„ä½“ 0, 0</span><br><span class="line">struct Student&#123;</span><br><span class="line">    uint256 id;</span><br><span class="line">    uint256 score; </span><br><span class="line">&#125;</span><br><span class="line">Student public student;</span><br></pre></td></tr></table></figure>

<h3 id="deleteæ“ä½œç¬¦"><a href="#deleteæ“ä½œç¬¦" class="headerlink" title="deleteæ“ä½œç¬¦"></a><code>delete</code>æ“ä½œç¬¦</h3><p><code>delete a</code>ä¼šè®©å˜é‡<code>a</code>çš„å€¼å˜ä¸ºåˆå§‹å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// deleteæ“ä½œç¬¦</span><br><span class="line">bool public _bool2 = true; </span><br><span class="line">function d() external &#123;</span><br><span class="line">    delete _bool2; // delete ä¼šè®©_bool2å˜ä¸ºé»˜è®¤å€¼ï¼Œfalse</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å€¼ç±»å‹ã€å¼•ç”¨ç±»å‹<code>delete</code>æ“ä½œåçš„é»˜è®¤å€¼ã€‚</strong></p>
<h2 id="å¸¸æ•°"><a href="#å¸¸æ•°" class="headerlink" title="å¸¸æ•°"></a>å¸¸æ•°</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»Solidityä¸­å’Œå¸¸é‡ç›¸å…³çš„ä¸¤ä¸ªå…³é”®å­—ï¼Œ<code>constant</code>ï¼ˆå¸¸é‡ï¼‰å’Œ<code>immutable</code>ï¼ˆä¸å˜é‡ï¼‰ã€‚çŠ¶æ€å˜é‡å£°æ˜è¿™ä¸¤ä¸ªå…³é”®å­—ä¹‹åï¼Œä¸èƒ½åœ¨åˆå§‹åŒ–åæ›´æ”¹æ•°å€¼ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯æå‡åˆçº¦çš„å®‰å…¨æ€§å¹¶èŠ‚çœ<code>gas</code>ã€‚</p>
<p>å¦å¤–ï¼Œåªæœ‰æ•°å€¼å˜é‡å¯ä»¥å£°æ˜<code>constant</code>å’Œ<code>immutable</code>ï¼›<code>string</code>å’Œ<code>bytes</code>å¯ä»¥å£°æ˜ä¸º<code>constant</code>ï¼Œä½†ä¸èƒ½ä¸º<code>immutable</code>ã€‚</p>
<p>æµ‹è¯•ä»£ç <code>Constant.sol</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract Constant &#123;</span><br><span class="line">    // constantå˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span><br><span class="line">    uint256 public constant CONSTANT_NUM = 10;</span><br><span class="line">    string public constant CONSTANT_STRING = &quot;0xAA&quot;;</span><br><span class="line">    bytes public constant CONSTANT_BYTES = &quot;WTF&quot;;</span><br><span class="line">    address public constant CONSTANT_ADDRESS = 0x0000000000000000000000000000000000000000;</span><br><span class="line"></span><br><span class="line">    // immutableå˜é‡å¯ä»¥åœ¨constructoré‡Œåˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span><br><span class="line">    uint256 public immutable IMMUTABLE_NUM = 9999999999;</span><br><span class="line">    address public immutable IMMUTABLE_ADDRESS;</span><br><span class="line">    uint256 public immutable IMMUTABLE_BLOCK;</span><br><span class="line">    uint256 public immutable IMMUTABLE_TEST;</span><br><span class="line"></span><br><span class="line">    // åˆ©ç”¨constructoråˆå§‹åŒ–immutableå˜é‡ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨</span><br><span class="line">    constructor()&#123;</span><br><span class="line">        IMMUTABLE_ADDRESS = address(this);</span><br><span class="line">        IMMUTABLE_NUM = 1118;</span><br><span class="line">        IMMUTABLE_TEST = test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function test() public pure returns(uint256)&#123;</span><br><span class="line">        uint256 what = 9;</span><br><span class="line">        return(what);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="constantå’Œimmutable"><a href="#constantå’Œimmutable" class="headerlink" title="constantå’Œimmutable"></a>constantå’Œimmutable</h3><h4 id="constant"><a href="#constant" class="headerlink" title="constant"></a>constant</h4><p><code>constant</code>å˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä¹‹åå†ä¹Ÿä¸èƒ½æ”¹å˜ã€‚å°è¯•æ”¹å˜çš„è¯ï¼Œç¼–è¯‘ä¸é€šè¿‡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// constantå˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span><br><span class="line">uint256 constant CONSTANT_NUM = 10;</span><br><span class="line">string constant CONSTANT_STRING = &quot;0xAA&quot;;</span><br><span class="line">bytes constant CONSTANT_BYTES = &quot;WTF&quot;;</span><br><span class="line">address constant CONSTANT_ADDRESS = 0x0000000000000000000000000000000000000000;</span><br></pre></td></tr></table></figure>

<h4 id="immutable"><a href="#immutable" class="headerlink" title="immutable"></a>immutable</h4><p><code>immutable</code>å˜é‡å¯ä»¥åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå› æ­¤æ›´åŠ çµæ´»ã€‚åœ¨<code>Solidity v8.0.21</code>ä»¥åï¼Œ<code>immutable</code>å˜é‡ä¸éœ€è¦æ˜¾å¼åˆå§‹åŒ–ã€‚åä¹‹ï¼Œåˆ™éœ€è¦æ˜¾å¼åˆå§‹åŒ–ã€‚ è‹¥<code>immutable</code>å˜é‡æ—¢åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œåˆåœ¨constructorä¸­åˆå§‹åŒ–ï¼Œä¼šä½¿ç”¨constructoråˆå§‹åŒ–çš„å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// immutableå˜é‡å¯ä»¥åœ¨constructoré‡Œåˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½æ”¹å˜</span><br><span class="line">uint256 public immutable IMMUTABLE_NUM = 9999999999;</span><br><span class="line">address public immutable IMMUTABLE_ADDRESS;</span><br><span class="line">uint256 public immutable IMMUTABLE_BLOCK;</span><br><span class="line">uint256 public immutable IMMUTABLE_TEST;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ä¾‹å¦‚<code>address(this)</code>ï¼Œ<code>block.number</code> æˆ–è€…è‡ªå®šä¹‰çš„å‡½æ•°ç»™<code>immutable</code>å˜é‡åˆå§‹åŒ–ã€‚åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†<code>test()</code>å‡½æ•°ç»™<code>IMMUTABLE_TEST</code>åˆå§‹åŒ–ä¸º<code>9</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// åˆ©ç”¨constructoråˆå§‹åŒ–immutableå˜é‡ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨</span><br><span class="line">constructor()&#123;</span><br><span class="line">    IMMUTABLE_ADDRESS = address(this);</span><br><span class="line">    IMMUTABLE_NUM = 1118;</span><br><span class="line">    IMMUTABLE_TEST = test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function test() public pure returns(uint256)&#123;</span><br><span class="line">    uint256 what = 9;</span><br><span class="line">    return(what);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/image-20250125011902342.png" alt="image-20250125011902342"></p>
<h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ä»‹ç»<code>Solidity</code>ä¸­çš„æ§åˆ¶æµã€‚</p>
<p>æµ‹è¯•ä»£ç <code>Control.sol</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.21;</span><br><span class="line">contract Controlflow &#123;</span><br><span class="line">    // if else</span><br><span class="line">    function ifElseTest(uint256 _number) public pure returns(bool)&#123;</span><br><span class="line">        if(_number == 0)&#123;</span><br><span class="line">            return(true);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return(false);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // for loop</span><br><span class="line">    function forLoopTest() public pure returns(uint256)&#123;</span><br><span class="line">        uint sum = 0;</span><br><span class="line">        for(uint i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        return(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // while</span><br><span class="line">    function whileTest() public pure returns(uint256)&#123;</span><br><span class="line">        uint sum = 0;</span><br><span class="line">        uint i = 0;</span><br><span class="line">        while(i &lt; 10)&#123;</span><br><span class="line">            sum += i;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        return(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // do-while</span><br><span class="line">    function doWhileTest() public pure returns(uint256)&#123;</span><br><span class="line">        uint sum = 0;</span><br><span class="line">        uint i = 0;</span><br><span class="line">        do&#123;</span><br><span class="line">            sum += i;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;while(i &lt; 10);</span><br><span class="line">        return(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ä¸‰å…ƒè¿ç®—ç¬¦ ternary/conditional operator</span><br><span class="line">    function ternaryTest(uint256 x, uint256 y) public pure returns(uint256)&#123;</span><br><span class="line">        // return the max of x and y</span><br><span class="line">        return x &gt;= y ? x: y; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„âš ï¸</strong>ï¼š<code>Solidity</code>ä¸­æœ€å¸¸ç”¨çš„å˜é‡ç±»å‹æ˜¯<code>uint</code>ï¼Œä¹Ÿå°±æ˜¯æ­£æ•´æ•°ï¼Œå–åˆ°è´Ÿå€¼çš„è¯ï¼Œä¼šæŠ¥<code>underflow</code>é”™è¯¯ã€‚</p>
<h3 id="æ§åˆ¶æµ-1"><a href="#æ§åˆ¶æµ-1" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h3><p><code>Solidity</code>çš„æ§åˆ¶æµä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§ï¼š</p>
<ol>
<li>if-else</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function ifElseTest(uint256 _number) public pure returns(bool)&#123;</span><br><span class="line">    if(_number == 0)&#123;</span><br><span class="line">        return(true);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return(false);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>forå¾ªç¯</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function forLoopTest() public pure returns(uint256)&#123;</span><br><span class="line">    uint sum = 0;</span><br><span class="line">    for(uint i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">        sum += i;</span><br><span class="line">    &#125;</span><br><span class="line">    return(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>whileå¾ªç¯</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function whileTest() public pure returns(uint256)&#123;</span><br><span class="line">    uint sum = 0;</span><br><span class="line">    uint i = 0;</span><br><span class="line">    while(i &lt; 10)&#123;</span><br><span class="line">        sum += i;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    return(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>do-whileå¾ªç¯</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function doWhileTest() public pure returns(uint256)&#123;</span><br><span class="line">    uint sum = 0;</span><br><span class="line">    uint i = 0;</span><br><span class="line">    do&#123;</span><br><span class="line">        sum += i;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;while(i &lt; 10);</span><br><span class="line">    return(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ä¸‰ç›®è¿ç®—</li>
</ol>
<p>ä¸‰å…ƒè¿ç®—ç¬¦æ˜¯<code>Solidity</code>ä¸­å”¯ä¸€ä¸€ä¸ªæ¥å—ä¸‰ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ï¼Œè§„åˆ™<code>æ¡ä»¶? æ¡ä»¶ä¸ºçœŸçš„è¡¨è¾¾å¼:æ¡ä»¶ä¸ºå‡çš„è¡¨è¾¾å¼</code>ã€‚æ­¤è¿ç®—ç¬¦ç»å¸¸ç”¨ä½œ<code>if</code>è¯­å¥çš„å¿«æ·æ–¹å¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ä¸‰å…ƒè¿ç®—ç¬¦ ternary/conditional operator</span><br><span class="line">function ternaryTest(uint256 x, uint256 y) public pure returns(uint256)&#123;</span><br><span class="line">    // return the max of x and y</span><br><span class="line">    return x &gt;= y ? x: y; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦å¤–è¿˜æœ‰<code>continue</code>ï¼ˆç«‹å³è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯ï¼‰å’Œ<code>break</code>ï¼ˆè·³å‡ºå½“å‰å¾ªç¯ï¼‰å…³é”®å­—å¯ä»¥ä½¿ç”¨ã€‚</strong></p>
<h2 id="æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨"><a href="#æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨" class="headerlink" title="æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨"></a>æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°†ç”¨åˆçº¦æƒé™æ§åˆ¶ï¼ˆ<code>Ownable</code>ï¼‰çš„ä¾‹å­ä»‹ç»<code>Solidity</code>è¯­è¨€ä¸­æ„é€ å‡½æ•°ï¼ˆ<code>constructor</code>ï¼‰å’Œç‹¬æœ‰çš„ä¿®é¥°å™¨ï¼ˆ<code>modifier</code>ï¼‰ã€‚</p>
<h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><p>æ„é€ å‡½æ•°ï¼ˆ<code>constructor</code>ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œæ¯ä¸ªåˆçº¦å¯ä»¥å®šä¹‰ä¸€ä¸ªï¼Œå¹¶åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œä¸€æ¬¡ã€‚å®ƒå¯ä»¥ç”¨æ¥åˆå§‹åŒ–åˆçº¦çš„ä¸€äº›å‚æ•°ï¼Œä¾‹å¦‚åˆå§‹åŒ–åˆçº¦çš„<code>owner</code>åœ°å€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">address owner; // å®šä¹‰ownerå˜é‡</span><br><span class="line"></span><br><span class="line">// æ„é€ å‡½æ•°</span><br><span class="line">constructor(address initialOwner) &#123;</span><br><span class="line">    owner = initialOwner; // åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™ï¼Œå°†ownerè®¾ç½®ä¸ºä¼ å…¥çš„initialOwneråœ°å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®é¥°å™¨"><a href="#ä¿®é¥°å™¨" class="headerlink" title="ä¿®é¥°å™¨"></a>ä¿®é¥°å™¨</h3><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><h2 id="æŠ½è±¡åˆçº¦å’Œæ¥å£"><a href="#æŠ½è±¡åˆçº¦å’Œæ¥å£" class="headerlink" title="æŠ½è±¡åˆçº¦å’Œæ¥å£"></a>æŠ½è±¡åˆçº¦å’Œæ¥å£</h2><h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://www.wtf.academy/docs/solidity-101/HelloWeb3">https://www.wtf.academy/docs/solidity-101/HelloWeb3</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/AmazingAng/WTF-Solidity">https://github.com/AmazingAng/WTF-Solidity</a></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/tags/">Tag</a></li>
        
          <li><a href="/categories/">Category</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hello-Web3"><span class="toc-number">1.</span> <span class="toc-text">Hello Web3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Solidityç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-Web3-1"><span class="toc-number">1.2.</span> <span class="toc-text">Hello Web3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">å€¼ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">Solidityä¸­çš„å˜é‡ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">åœ°å€ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E9%95%BF%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.</span> <span class="toc-text">å®šé•¿å­—èŠ‚æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BEenum"><span class="toc-number">2.4.</span> <span class="toc-text">æšä¸¾enum</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">å‡½æ•°å’Œå‡½æ•°è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.</span> <span class="toc-text">å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%A3%E7%A0%81%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.1.1.</span> <span class="toc-text">å‡½æ•°çš„ä»£ç å½¢å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%B0%E5%BA%95%E4%BB%80%E4%B9%88%E6%98%AFPure%E5%92%8CView%EF%BC%9F"><span class="toc-number">3.1.2.</span> <span class="toc-text">åˆ°åº•ä»€ä¹ˆæ˜¯Pureå’ŒViewï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"><span class="toc-number">3.1.3.</span> <span class="toc-text">ä»£ç æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#pure%E5%92%8Cview"><span class="toc-number">3.1.3.1.</span> <span class="toc-text">pureå’Œview</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#internal%E5%92%8Cexternal%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">3.1.3.2.</span> <span class="toc-text">internalå’Œexternalçš„å¯¹æ¯”</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#payable%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.3.3.</span> <span class="toc-text">payableçš„ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BE%93%E5%87%BA"><span class="toc-number">3.2.</span> <span class="toc-text">å‡½æ•°è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%9Areturn%E5%92%8Creturns"><span class="toc-number">3.2.1.</span> <span class="toc-text">è¿”å›å€¼ï¼šreturnå’Œreturns</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%BC%8F%E8%BF%94%E5%9B%9E"><span class="toc-number">3.2.2.</span> <span class="toc-text">å‘½åå¼è¿”å›</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%BC%8F%E5%A4%8D%E5%88%B6"><span class="toc-number">3.2.3.</span> <span class="toc-text">è§£æ„å¼å¤åˆ¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.</span> <span class="toc-text">å˜é‡æ•°æ®å­˜å‚¨å’Œä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">Solidityä¸­çš„å¼•ç”¨ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BD%8D%E7%BD%AE"><span class="toc-number">4.2.</span> <span class="toc-text">æ•°æ®ä½ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BD%8D%E7%BD%AE%E5%92%8C%E8%B5%8B%E5%80%BC%E8%A7%84%E5%88%99"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ•°æ®ä½ç½®å’Œèµ‹å€¼è§„åˆ™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.3.</span> <span class="toc-text">å˜é‡çš„ä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%88state-variable%EF%BC%89"><span class="toc-number">4.3.1.</span> <span class="toc-text">çŠ¶æ€å˜é‡ï¼ˆstate variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%EF%BC%88local-variable%EF%BC%89"><span class="toc-number">4.3.2.</span> <span class="toc-text">å±€éƒ¨å˜é‡ï¼ˆlocal variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%88global-variable%EF%BC%89"><span class="toc-number">4.3.3.</span> <span class="toc-text">å…¨å±€å˜é‡ï¼ˆglobal variableï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F-%E4%BB%A5%E5%A4%AA%E5%8D%95%E4%BD%8D%E4%B8%8E%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D"><span class="toc-number">4.3.4.</span> <span class="toc-text">å…¨å±€å˜é‡-ä»¥å¤ªå•ä½ä¸æ—¶é—´å•ä½</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">å¼•ç”¨ç±»å‹å’Œæ˜ å°„ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">å¼•ç”¨ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84array"><span class="toc-number">5.1.1.</span> <span class="toc-text">æ•°ç»„array</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">åˆ›å»ºæ•°ç»„çš„è§„åˆ™</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%88%90%E5%91%98"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">æ•°ç»„æˆå‘˜</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93struct"><span class="toc-number">5.1.2.</span> <span class="toc-text">ç»“æ„ä½“struct</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.2.</span> <span class="toc-text">æ˜ å°„ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84Mapping"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ˜ å°„Mapping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">5.2.2.</span> <span class="toc-text">æ˜ å°„çš„è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.3.</span> <span class="toc-text">æ˜ å°„çš„åŸç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">å˜é‡åˆå§‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%88%9D%E5%A7%8B%E5%80%BC"><span class="toc-number">6.1.</span> <span class="toc-text">å€¼ç±»å‹åˆå§‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%88%9D%E5%A7%8B%E5%80%BC"><span class="toc-number">6.2.</span> <span class="toc-text">å¼•ç”¨ç±»å‹åˆå§‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">6.3.</span> <span class="toc-text">deleteæ“ä½œç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">å¸¸æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#constant%E5%92%8Cimmutable"><span class="toc-number">7.1.</span> <span class="toc-text">constantå’Œimmutable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#constant"><span class="toc-number">7.1.1.</span> <span class="toc-text">constant</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#immutable"><span class="toc-number">7.1.2.</span> <span class="toc-text">immutable</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">8.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81-1"><span class="toc-number">8.1.</span> <span class="toc-text">æ§åˆ¶æµ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="toc-number">9.</span> <span class="toc-text">æ„é€ å‡½æ•°å’Œä¿®é¥°å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">9.1.</span> <span class="toc-text">æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="toc-number">9.2.</span> <span class="toc-text">ä¿®é¥°å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">10.</span> <span class="toc-text">äº‹ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">11.</span> <span class="toc-text">ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%90%88%E7%BA%A6%E5%92%8C%E6%8E%A5%E5%8F%A3"><span class="toc-number">12.</span> <span class="toc-text">æŠ½è±¡åˆçº¦å’Œæ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">13.</span> <span class="toc-text">å¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">14.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&text=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&is_video=false&description=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Solidityå…¥é—¨å­¦ä¹ &body=Check out this article: https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&title=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&name=Solidityå…¥é—¨å­¦ä¹ &description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://x2nn.github.io/2025/01/22/Solidity%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/&t=Solidityå…¥é—¨å­¦ä¹ "><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
      <div class="footer-left">
        Copyright &copy;
        
        
        2024-2025
        ğŸ’—
      </div>
      <div class="footer-right">
        <nav>
          <ul>
            <!--
          --><li><a href="/">Home</a></li><!--
        --><!--
          --><li><a href="/archives/">Writing</a></li><!--
        --><!--
          --><li><a href="/tags/">Tag</a></li><!--
        --><!--
          --><li><a href="/categories/">Category</a></li><!--
        --><!--
          --><li><a href="/search/">Search</a></li><!--
        --><!--
          --><li><a href="/about/">About</a></li><!--
        -->
          </ul>
          <ul>
            
              <!-- ä¸è’œå­ç»Ÿè®¡ -->
              <span id="busuanzi_container_site_pv">
                  æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
              </span>
              <span class="post-meta-divider">|</span>
              <span id="busuanzi_container_site_uv" style='display:none'>
                      æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº
              </span>
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            
          </ul>
        </nav>
      </div>
      
</footer>


    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
